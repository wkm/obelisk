"use strict";function RGBColor(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)e==n&&(e=t[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;r.length>i;i++){var a=r[i].re,o=r[i].process,s=a.exec(e);if(s){var l=o(s);this.r=l[0],this.g=l[1],this.b=l[2],this.ok=!0}}this.r=0>this.r||isNaN(this.r)?0:this.r>255?255:this.r,this.g=0>this.g||isNaN(this.g)?0:this.g>255?255:this.g,this.b=0>this.b||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var DygraphLayout=function(e){this.dygraph_=e,this.datasets=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};DygraphLayout.prototype.attr_=function(e){return this.dygraph_.attr_(e)},DygraphLayout.prototype.addDataset=function(e,t){this.datasets.push(t),this.setNames.push(e)},DygraphLayout.prototype.getPlotArea=function(){return this.computePlotArea_()},DygraphLayout.prototype.computePlotArea_=function(){var e={x:0,y:0};return this.attr_("drawYAxis")&&(e.x=this.attr_("yAxisLabelWidth")+2*this.attr_("axisTickSize")),e.w=this.dygraph_.width_-e.x-this.attr_("rightGap"),e.h=this.dygraph_.height_,this.attr_("drawXAxis")&&(e.h-=this.attr_("xAxisHeight")?this.attr_("xAxisHeight"):this.attr_("axisLabelFontSize")+2*this.attr_("axisTickSize")),2==this.dygraph_.numAxes()?e.w-=this.attr_("yAxisLabelWidth")+2*this.attr_("axisTickSize"):this.dygraph_.numAxes()>2&&this.dygraph_.error("Only two y-axes are supported at this time. (Trying to use "+this.dygraph_.numAxes()+")"),this.attr_("title")&&(e.h-=this.attr_("titleHeight"),e.y+=this.attr_("titleHeight")),this.attr_("xlabel")&&(e.h-=this.attr_("xLabelHeight")),this.attr_("ylabel"),this.attr_("y2label"),this.attr_("showRangeSelector")&&(e.h-=this.attr_("rangeSelectorHeight")+4),e},DygraphLayout.prototype.setAnnotations=function(e){this.annotations=[];for(var t=this.attr_("xValueParser")||function(e){return e},n=0;e.length>n;n++){var r={};if(!e[n].xval&&!e[n].x)return this.dygraph_.error("Annotations must have an 'x' property"),void 0;if(e[n].icon&&(!e[n].hasOwnProperty("width")||!e[n].hasOwnProperty("height")))return this.dygraph_.error("Must set width and height when setting annotation.icon property"),void 0;Dygraph.update(r,e[n]),r.xval||(r.xval=t(r.x)),this.annotations.push(r)}},DygraphLayout.prototype.setXTicks=function(e){this.xTicks_=e},DygraphLayout.prototype.setYAxes=function(e){this.yAxes_=e},DygraphLayout.prototype.setDateWindow=function(e){this.dateWindow_=e},DygraphLayout.prototype.evaluate=function(){this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},DygraphLayout.prototype._evaluateLimits=function(){if(this.minxval=this.maxxval=null,this.dateWindow_)this.minxval=this.dateWindow_[0],this.maxxval=this.dateWindow_[1];else for(var e=0;this.datasets.length>e;++e){var t=this.datasets[e];if(t.length>1){var n=t[0][0];(!this.minxval||this.minxval>n)&&(this.minxval=n);var r=t[t.length-1][0];(!this.maxxval||r>this.maxxval)&&(this.maxxval=r)}}this.xrange=this.maxxval-this.minxval,this.xscale=0!==this.xrange?1/this.xrange:1;for(var i=0;this.yAxes_.length>i;i++){var a=this.yAxes_[i];a.minyval=a.computedValueRange[0],a.maxyval=a.computedValueRange[1],a.yrange=a.maxyval-a.minyval,a.yscale=0!==a.yrange?1/a.yrange:1,a.g.attr_("logscale")&&(a.ylogrange=Dygraph.log10(a.maxyval)-Dygraph.log10(a.minyval),a.ylogscale=0!==a.ylogrange?1/a.ylogrange:1,(!isFinite(a.ylogrange)||isNaN(a.ylogrange))&&a.g.error("axis "+i+" of graph at "+a.g+" can't be displayed in log scale for range ["+a.minyval+" - "+a.maxyval+"]"))}},DygraphLayout._calcYNormal=function(e,t){return e.logscale?1-(Dygraph.log10(t)-Dygraph.log10(e.minyval))*e.ylogscale:1-(t-e.minyval)*e.yscale},DygraphLayout.prototype._evaluateLineCharts=function(){this.points=[],this.setPointsLengths=[],this.setPointsOffsets=[];for(var e=this.attr_("connectSeparatedPoints"),t=0;this.datasets.length>t;++t){var n=this.datasets[t],r=this.setNames[t],i=this.dygraph_.axisPropertiesForSeries(r);this.setPointsOffsets.push(this.points.length);for(var a=0,o=0;n.length>o;o++){var s=n[o],l=parseFloat(s[0]),c=parseFloat(s[1]),u=(l-this.minxval)*this.xscale,d=DygraphLayout._calcYNormal(i,c),p={x:u,y:d,xval:l,yval:c,name:r};e&&null===s[1]&&(p.yval=null),this.points.push(p),a+=1}this.setPointsLengths.push(a)}},DygraphLayout.prototype._evaluateLineTicks=function(){var e,t,n,r;for(this.xticks=[],e=0;this.xTicks_.length>e;e++)t=this.xTicks_[e],n=t.label,r=this.xscale*(t.v-this.minxval),r>=0&&1>=r&&this.xticks.push([r,n]);for(this.yticks=[],e=0;this.yAxes_.length>e;e++)for(var i=this.yAxes_[e],a=0;i.ticks.length>a;a++)t=i.ticks[a],n=t.label,r=this.dygraph_.toPercentYCoord(t.v,e),r>=0&&1>=r&&this.yticks.push([e,r,n])},DygraphLayout.prototype.evaluateWithError=function(){if(this.evaluate(),this.attr_("errorBars")||this.attr_("customBars"))for(var e=0,t=0;this.datasets.length>t;++t){var n=0,r=this.datasets[t],i=this.setNames[t],a=this.dygraph_.axisPropertiesForSeries(i);for(n=0;r.length>n;n++,e++){var o=r[n],s=parseFloat(o[0]),l=parseFloat(o[1]);if(s==this.points[e].xval&&l==this.points[e].yval){var c=parseFloat(o[2]),u=parseFloat(o[3]),d=l-c,p=l+u;this.points[e].y_top=DygraphLayout._calcYNormal(a,d),this.points[e].y_bottom=DygraphLayout._calcYNormal(a,p)}}}},DygraphLayout.prototype._evaluateAnnotations=function(){var e,t={};for(e=0;this.annotations.length>e;e++){var n=this.annotations[e];t[n.xval+","+n.series]=n}if(this.annotated_points=[],this.annotations&&this.annotations.length)for(e=0;this.points.length>e;e++){var r=this.points[e],i=r.xval+","+r.name;i in t&&(r.annotation=t[i],this.annotated_points.push(r))}},DygraphLayout.prototype.removeAllDatasets=function(){delete this.datasets,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.datasets=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},DygraphLayout.prototype.unstackPointAtIndex=function(e){var t=this.points[e],n={};for(var r in t)n[r]=t[r];if(!this.attr_("stackedGraph"))return n;for(var i=e+1;this.points.length>i;i++)if(this.points[i].xval==t.xval){n.yval-=this.points[i].yval;break}return n};var DygraphCanvasRenderer=function(e,t,n,r){if(this.dygraph_=e,this.layout=r,this.element=t,this.elementContext=n,this.container=this.element.parentNode,this.height=this.element.height,this.width=this.element.width,!this.isIE&&!DygraphCanvasRenderer.isSupported(this.element))throw"Canvas is not supported.";if(this.xlabels=[],this.ylabels=[],this.annotations=[],this.chartLabels={},this.area=r.getPlotArea(),this.container.style.position="relative",this.container.style.width=this.width+"px",this.dygraph_.isUsingExcanvas_)this._createIEClipArea();else if(!Dygraph.isAndroid()){var i=this.dygraph_.canvas_ctx_;i.beginPath(),i.rect(this.area.x,this.area.y,this.area.w,this.area.h),i.clip(),i=this.dygraph_.hidden_ctx_,i.beginPath(),i.rect(this.area.x,this.area.y,this.area.w,this.area.h),i.clip()}};DygraphCanvasRenderer.prototype.attr_=function(e){return this.dygraph_.attr_(e)},DygraphCanvasRenderer.prototype.clear=function(){function e(e){for(var t=0;e.length>t;t++){var n=e[t];n.parentNode&&n.parentNode.removeChild(n)}}var t;if(this.isIE)try{this.clearDelay&&(this.clearDelay.cancel(),this.clearDelay=null),t=this.elementContext}catch(n){return}t=this.elementContext,t.clearRect(0,0,this.width,this.height),e(this.xlabels),e(this.ylabels),e(this.annotations);for(var r in this.chartLabels)if(this.chartLabels.hasOwnProperty(r)){var i=this.chartLabels[r];i.parentNode&&i.parentNode.removeChild(i)}this.xlabels=[],this.ylabels=[],this.annotations=[],this.chartLabels={}},DygraphCanvasRenderer.isSupported=function(e){var t=null;try{t=e===void 0||null===e?document.createElement("canvas"):e,t.getContext("2d")}catch(n){var r=navigator.appVersion.match(/MSIE (\d\.\d)/),i=-1!=navigator.userAgent.toLowerCase().indexOf("opera");return!r||6>r[1]||i?!1:!0}return!0},DygraphCanvasRenderer.prototype.setColors=function(e){this.colorScheme_=e},DygraphCanvasRenderer.prototype.render=function(){function e(e){return Math.round(e)+.5}function t(e){return Math.round(e)-.5}var n=this.elementContext;this.attr_("underlayCallback")&&this.attr_("underlayCallback")(n,this.area,this.dygraph_,this.dygraph_);var r,i,a,o;if(this.attr_("drawYGrid")){for(o=this.layout.yticks,n.save(),n.strokeStyle=this.attr_("gridLineColor"),n.lineWidth=this.attr_("gridLineWidth"),a=0;o.length>a;a++)0===o[a][0]&&(r=e(this.area.x),i=t(this.area.y+o[a][1]*this.area.h),n.beginPath(),n.moveTo(r,i),n.lineTo(r+this.area.w,i),n.closePath(),n.stroke());n.restore()}if(this.attr_("drawXGrid")){for(o=this.layout.xticks,n.save(),n.strokeStyle=this.attr_("gridLineColor"),n.lineWidth=this.attr_("gridLineWidth"),a=0;o.length>a;a++)r=e(this.area.x+o[a][0]*this.area.w),i=t(this.area.y+this.area.h),n.beginPath(),n.moveTo(r,i),n.lineTo(r,this.area.y),n.closePath(),n.stroke();n.restore()}this._renderLineChart(),this._renderAxis(),this._renderChartLabels(),this._renderAnnotations()},DygraphCanvasRenderer.prototype._createIEClipArea=function(){function e(e){if(0!==e.w&&0!==e.h){var r=document.createElement("div");r.className=t,r.style.backgroundColor=i,r.style.position="absolute",r.style.left=e.x+"px",r.style.top=e.y+"px",r.style.width=e.w+"px",r.style.height=e.h+"px",n.appendChild(r)}}for(var t="dygraph-clip-div",n=this.dygraph_.graphDiv,r=n.childNodes.length-1;r>=0;r--)n.childNodes[r].className==t&&n.removeChild(n.childNodes[r]);for(var i=document.bgColor,a=this.dygraph_.graphDiv;a!=document;){var o=a.currentStyle.backgroundColor;if(o&&"transparent"!=o){i=o;break}a=a.parentNode}var s=this.area;e({x:0,y:0,w:s.x,h:this.height}),e({x:s.x,y:0,w:this.width-s.x,h:s.y}),e({x:s.x+s.w,y:0,w:this.width-s.x-s.w,h:this.height}),e({x:s.x,y:s.y+s.h,w:this.width-s.x,h:this.height-s.h-s.y})},DygraphCanvasRenderer.prototype._renderAxis=function(){function e(e){return Math.round(e)+.5}function t(e){return Math.round(e)-.5}if(this.attr_("drawXAxis")||this.attr_("drawYAxis")){var n,r,i,a,o,s=this.elementContext,l={position:"absolute",fontSize:this.attr_("axisLabelFontSize")+"px",zIndex:10,color:this.attr_("axisLabelColor"),width:this.attr_("axisLabelWidth")+"px",lineHeight:"normal",overflow:"hidden"},c=function(e,t,n){var r=document.createElement("div");for(var i in l)l.hasOwnProperty(i)&&(r.style[i]=l[i]);var a=document.createElement("div");return a.className="dygraph-axis-label dygraph-axis-label-"+t+(n?" dygraph-axis-label-"+n:""),a.innerHTML=e,r.appendChild(a),r};if(s.save(),s.strokeStyle=this.attr_("axisLineColor"),s.lineWidth=this.attr_("axisLineWidth"),this.attr_("drawYAxis")){if(this.layout.yticks&&this.layout.yticks.length>0){var u=this.dygraph_.numAxes();for(o=0;this.layout.yticks.length>o;o++){if(a=this.layout.yticks[o],"function"==typeof a)return;r=this.area.x;var d=1,p="y1";1==a[0]&&(r=this.area.x+this.area.w,d=-1,p="y2"),i=this.area.y+a[1]*this.area.h,n=c(a[2],"y",2==u?p:null);var h=i-this.attr_("axisLabelFontSize")/2;0>h&&(h=0),h+this.attr_("axisLabelFontSize")+3>this.height?n.style.bottom="0px":n.style.top=h+"px",0===a[0]?(n.style.left=this.area.x-this.attr_("yAxisLabelWidth")-this.attr_("axisTickSize")+"px",n.style.textAlign="right"):1==a[0]&&(n.style.left=this.area.x+this.area.w+this.attr_("axisTickSize")+"px",n.style.textAlign="left"),n.style.width=this.attr_("yAxisLabelWidth")+"px",this.container.appendChild(n),this.ylabels.push(n)}var m=this.ylabels[0],g=this.attr_("axisLabelFontSize"),f=parseInt(m.style.top,10)+g;f>this.height-g&&(m.style.top=parseInt(m.style.top,10)-g/2+"px")}s.beginPath(),s.moveTo(e(this.area.x),t(this.area.y)),s.lineTo(e(this.area.x),t(this.area.y+this.area.h)),s.closePath(),s.stroke(),2==this.dygraph_.numAxes()&&(s.beginPath(),s.moveTo(t(this.area.x+this.area.w),t(this.area.y)),s.lineTo(t(this.area.x+this.area.w),t(this.area.y+this.area.h)),s.closePath(),s.stroke())}if(this.attr_("drawXAxis")){if(this.layout.xticks)for(o=0;this.layout.xticks.length>o;o++){a=this.layout.xticks[o],r=this.area.x+a[0]*this.area.w,i=this.area.y+this.area.h,n=c(a[1],"x"),n.style.textAlign="center",n.style.top=i+this.attr_("axisTickSize")+"px";var b=r-this.attr_("axisLabelWidth")/2;b+this.attr_("axisLabelWidth")>this.width&&(b=this.width-this.attr_("xAxisLabelWidth"),n.style.textAlign="right"),0>b&&(b=0,n.style.textAlign="left"),n.style.left=b+"px",n.style.width=this.attr_("xAxisLabelWidth")+"px",this.container.appendChild(n),this.xlabels.push(n)}s.beginPath(),s.moveTo(e(this.area.x),t(this.area.y+this.area.h)),s.lineTo(e(this.area.x+this.area.w),t(this.area.y+this.area.h)),s.closePath(),s.stroke()}s.restore()}},DygraphCanvasRenderer.prototype._renderChartLabels=function(){function e(e,i,a){var o={left:0,top:r.area.y,width:r.attr_("yLabelWidth"),height:r.area.h};t=document.createElement("div"),t.style.position="absolute",1==e?t.style.left=o.left:t.style.right=o.left,t.style.top=o.top+"px",t.style.width=o.width+"px",t.style.height=o.height+"px",t.style.fontSize=r.attr_("yLabelWidth")-2+"px";var s=document.createElement("div");s.style.position="absolute",s.style.width=o.height+"px",s.style.height=o.width+"px",s.style.top=o.height/2-o.width/2+"px",s.style.left=o.width/2-o.height/2+"px",s.style.textAlign="center";var l="rotate("+(1==e?"-":"")+"90deg)";return s.style.transform=l,s.style.WebkitTransform=l,s.style.MozTransform=l,s.style.OTransform=l,s.style.msTransform=l,document.documentMode!==void 0&&9>document.documentMode&&(s.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation="+(1==e?"3":"1")+")",s.style.left="0px",s.style.top="0px"),n=document.createElement("div"),n.className=i,n.innerHTML=a,s.appendChild(n),t.appendChild(s),t}var t,n;this.attr_("title")&&(t=document.createElement("div"),t.style.position="absolute",t.style.top="0px",t.style.left=this.area.x+"px",t.style.width=this.area.w+"px",t.style.height=this.attr_("titleHeight")+"px",t.style.textAlign="center",t.style.fontSize=this.attr_("titleHeight")-8+"px",t.style.fontWeight="bold",n=document.createElement("div"),n.className="dygraph-label dygraph-title",n.innerHTML=this.attr_("title"),t.appendChild(n),this.container.appendChild(t),this.chartLabels.title=t),this.attr_("xlabel")&&(t=document.createElement("div"),t.style.position="absolute",t.style.bottom=0,t.style.left=this.area.x+"px",t.style.width=this.area.w+"px",t.style.height=this.attr_("xLabelHeight")+"px",t.style.textAlign="center",t.style.fontSize=this.attr_("xLabelHeight")-2+"px",n=document.createElement("div"),n.className="dygraph-label dygraph-xlabel",n.innerHTML=this.attr_("xlabel"),t.appendChild(n),this.container.appendChild(t),this.chartLabels.xlabel=t);var t,r=this;this.attr_("ylabel")&&(t=e(1,"dygraph-label dygraph-ylabel",this.attr_("ylabel")),this.container.appendChild(t),this.chartLabels.ylabel=t),this.attr_("y2label")&&2==this.dygraph_.numAxes()&&(t=e(2,"dygraph-label dygraph-y2label",this.attr_("y2label")),this.container.appendChild(t),this.chartLabels.y2label=t)},DygraphCanvasRenderer.prototype._renderAnnotations=function(){for(var e={position:"absolute",fontSize:this.attr_("axisLabelFontSize")+"px",zIndex:10,overflow:"hidden"},t=function(e,t,n,r){return function(i){var a=n.annotation;a.hasOwnProperty(e)?a[e](a,n,r.dygraph_,i):r.dygraph_.attr_(t)&&r.dygraph_.attr_(t)(a,n,r.dygraph_,i)}},n=this.layout.annotated_points,r=0;n.length>r;r++){var i=n[r];if(!(i.canvasx<this.area.x||i.canvasx>this.area.x+this.area.w||i.canvasy<this.area.y||i.canvasy>this.area.y+this.area.h)){var a=i.annotation,o=6;a.hasOwnProperty("tickHeight")&&(o=a.tickHeight);var s=document.createElement("div");for(var l in e)e.hasOwnProperty(l)&&(s.style[l]=e[l]);a.hasOwnProperty("icon")||(s.className="dygraphDefaultAnnotation"),a.hasOwnProperty("cssClass")&&(s.className+=" "+a.cssClass);var c=a.hasOwnProperty("width")?a.width:16,u=a.hasOwnProperty("height")?a.height:16;if(a.hasOwnProperty("icon")){var d=document.createElement("img");d.src=a.icon,d.width=c,d.height=u,s.appendChild(d)}else i.annotation.hasOwnProperty("shortText")&&s.appendChild(document.createTextNode(i.annotation.shortText));s.style.left=i.canvasx-c/2+"px",s.style.top=a.attachAtBottom?this.area.h-u-o+"px":i.canvasy-u-o+"px",s.style.width=c+"px",s.style.height=u+"px",s.title=i.annotation.text,s.style.color=this.colors[i.name],s.style.borderColor=this.colors[i.name],a.div=s,Dygraph.addEvent(s,"click",t("clickHandler","annotationClickHandler",i,this)),Dygraph.addEvent(s,"mouseover",t("mouseOverHandler","annotationMouseOverHandler",i,this)),Dygraph.addEvent(s,"mouseout",t("mouseOutHandler","annotationMouseOutHandler",i,this)),Dygraph.addEvent(s,"dblclick",t("dblClickHandler","annotationDblClickHandler",i,this)),this.container.appendChild(s),this.annotations.push(s);var p=this.elementContext;p.strokeStyle=this.colors[i.name],p.beginPath(),a.attachAtBottom?(p.moveTo(i.canvasx,this.area.h),p.lineTo(i.canvasx,this.area.h-2-o)):(p.moveTo(i.canvasx,i.canvasy),p.lineTo(i.canvasx,i.canvasy-2-o)),p.closePath(),p.stroke()}}},DygraphCanvasRenderer.makeNextPointStep_=function(e,t,n){return e?function(e){for(;n>++e&&null===t[e].yval;);return e}:function(e){return e+1}},DygraphCanvasRenderer.prototype._drawStyledLine=function(e,t,n,r,i,a,o,s,l){var c=function(e){return null===e||isNaN(e)},u=this.attr_("stepPlot"),d=this.layout.setPointsOffsets[t],p=this.layout.setPointsLengths[t],h=d+p,m=this.layout.points,g=null,f=null,b=[];Dygraph.isArrayLike(a)||(a=null);var v,y=DygraphCanvasRenderer.makeNextPointStep_(this.attr_("connectSeparatedPoints"),m,h);e.save();for(var _=d;h>_;_=y(_))if(v=m[_],c(v.canvasy))u&&null!==g&&(e.beginPath(),e.strokeStyle=r,e.lineWidth=this.attr_("strokeWidth"),this._dashedLine(e,g,f,v.canvasx,f,a),e.stroke()),g=f=null;else{var k=!g&&(_==m.length-1||c(m[_+1].canvasy));if(null===g)g=v.canvasx,f=v.canvasy;else{if(Math.round(g)==Math.round(v.canvasx)&&Math.round(f)==Math.round(v.canvasy))continue;i&&(e.beginPath(),e.strokeStyle=r,e.lineWidth=i,u&&(this._dashedLine(e,g,f,v.canvasx,f,a),g=v.canvasx),this._dashedLine(e,g,f,v.canvasx,v.canvasy,a),g=v.canvasx,f=v.canvasy,e.stroke())}(o||k)&&b.push([v.canvasx,v.canvasy])}for(var w=0;b.length>w;w++){var E=b[w];e.save(),s(this.dygraph_,n,e,E[0],E[1],r,l),e.restore()}e.restore()},DygraphCanvasRenderer.prototype._drawLine=function(e,t){var n=this.layout.setNames,r=n[t],i=this.dygraph_.attr_("strokeWidth",r),a=this.dygraph_.attr_("strokeBorderWidth",r),o=this.dygraph_.attr_("drawPointCallback",r)||Dygraph.Circles.DEFAULT;a&&i&&this._drawStyledLine(e,t,r,this.dygraph_.attr_("strokeBorderColor",r),i+2*a,this.dygraph_.attr_("strokePattern",r),this.dygraph_.attr_("drawPoints",r),o,this.dygraph_.attr_("pointSize",r)),this._drawStyledLine(e,t,r,this.colors[r],i,this.dygraph_.attr_("strokePattern",r),this.dygraph_.attr_("drawPoints",r),o,this.dygraph_.attr_("pointSize",r))},DygraphCanvasRenderer.prototype._renderLineChart=function(){var e,t,n,r,i,a,o,s,l,c,u,d,p,h=this.elementContext,m=this.attr_("fillAlpha"),g=this.attr_("errorBars")||this.attr_("customBars"),f=this.attr_("fillGraph"),b=this.attr_("stackedGraph"),v=this.attr_("stepPlot"),y=this.layout.points,_=y.length,k=this.layout.setNames,w=k.length;for(this.colors={},t=0;w>t;t++)this.colors[k[t]]=this.colorScheme_[t%this.colorScheme_.length];for(t=_;t--;)e=y[t],e.canvasx=this.area.w*e.x+this.area.x,e.canvasy=this.area.h*e.y+this.area.y;if(g){for(h.save(),f&&this.dygraph_.warn("Can't use fillGraph option with error bars"),t=0;w>t;t++){s=k[t],p=this.dygraph_.axisPropertiesForSeries(s),o=this.colors[s];var E=this.layout.setPointsOffsets[t],C=this.layout.setPointsLengths[t],T=E+C,x=DygraphCanvasRenderer.makeNextPointStep_(this.attr_("connectSeparatedPoints"),y,T);for(r=0/0,i=0/0,a=[-1,-1],d=p.yscale,u=new RGBColor(o),c="rgba("+u.r+","+u.g+","+u.b+","+m+")",h.fillStyle=c,h.beginPath(),n=E;T>n;n=x(n))if(e=y[n],e.name==s){if(!Dygraph.isOK(e.y)){r=0/0;continue}v?(l=[e.y_bottom,e.y_top],i=e.y):l=[e.y_bottom,e.y_top],l[0]=this.area.h*l[0]+this.area.y,l[1]=this.area.h*l[1]+this.area.y,isNaN(r)||(v?h.moveTo(r,l[0]):h.moveTo(r,a[0]),h.lineTo(e.canvasx,l[0]),h.lineTo(e.canvasx,l[1]),v?h.lineTo(r,l[1]):h.lineTo(r,a[1]),h.closePath()),a=l,r=e.canvasx}h.fill()}h.restore()}else if(f){h.save();var S=[];for(t=w-1;t>=0;t--){s=k[t],o=this.colors[s],p=this.dygraph_.axisPropertiesForSeries(s);var A=1+p.minyval*p.yscale;0>A?A=0:A>1&&(A=1),A=this.area.h*A+this.area.y;var E=this.layout.setPointsOffsets[t],C=this.layout.setPointsLengths[t],T=E+C,x=DygraphCanvasRenderer.makeNextPointStep_(this.attr_("connectSeparatedPoints"),y,T);for(r=0/0,a=[-1,-1],d=p.yscale,u=new RGBColor(o),c="rgba("+u.r+","+u.g+","+u.b+","+m+")",h.fillStyle=c,h.beginPath(),n=E;T>n;n=x(n))if(e=y[n],e.name==s){if(!Dygraph.isOK(e.y)){r=0/0;continue}if(b){var R=S[e.canvasx];void 0===R&&(R=A),S[e.canvasx]=e.canvasy,l=[e.canvasy,R]}else l=[e.canvasy,A];isNaN(r)||(h.moveTo(r,a[0]),v?h.lineTo(e.canvasx,a[0]):h.lineTo(e.canvasx,l[0]),h.lineTo(e.canvasx,l[1]),h.lineTo(r,a[1]),h.closePath()),a=l,r=e.canvasx}h.fill()}h.restore()}for(t=0;w>t;t+=1)this._drawLine(h,t)},DygraphCanvasRenderer.prototype._dashedLine=function(e,t,n,r,i,a){var o,s,l,c,u,d;if(!a||1>=a.length)return e.moveTo(t,n),e.lineTo(r,i),void 0;for(Dygraph.compareArrays(a,this._dashedLineToHistoryPattern)||(this._dashedLineToHistoryPattern=a,this._dashedLineToHistory=[0,0]),e.save(),o=r-t,s=i-n,l=Math.sqrt(o*o+s*s),c=Math.atan2(s,o),e.translate(t,n),e.moveTo(0,0),e.rotate(c),u=this._dashedLineToHistory[0],t=0;l>t;)d=a[u],t+=this._dashedLineToHistory[1]?this._dashedLineToHistory[1]:d,t>l?(this._dashedLineToHistory=[u,t-l],t=l):this._dashedLineToHistory=[(u+1)%a.length,0],0===u%2?e.lineTo(t,0):e.moveTo(t,0),u=(u+1)%a.length;e.restore()};var Dygraph=function(e,t,n,r){void 0!==r?(this.warn("Using deprecated four-argument dygraph constructor"),this.__old_init__(e,t,n,r)):this.__init__(e,t,n)};Dygraph.NAME="Dygraph",Dygraph.VERSION="1.2",Dygraph.__repr__=function(){return"["+this.NAME+" "+this.VERSION+"]"},Dygraph.toString=function(){return this.__repr__()},Dygraph.DEFAULT_ROLL_PERIOD=1,Dygraph.DEFAULT_WIDTH=480,Dygraph.DEFAULT_HEIGHT=320,Dygraph.ANIMATION_STEPS=10,Dygraph.ANIMATION_DURATION=200,Dygraph.numberValueFormatter=function(e,t){var n=t("sigFigs");if(null!==n)return Dygraph.floatFormat(e,n);var r=t("digitsAfterDecimal"),i=t("maxNumberWidth");return 0!==e&&(Math.abs(e)>=Math.pow(10,i)||Math.abs(e)<Math.pow(10,-r))?e.toExponential(r):""+Dygraph.round_(e,r)},Dygraph.numberAxisLabelFormatter=function(e,t,n,r){return Dygraph.numberValueFormatter(e,n,r)},Dygraph.dateString_=function(e){var t=Dygraph.zeropad,n=new Date(e),r=""+n.getFullYear(),i=t(n.getMonth()+1),a=t(n.getDate()),o="",s=3600*n.getHours()+60*n.getMinutes()+n.getSeconds();return s&&(o=" "+Dygraph.hmsString_(e)),r+"/"+i+"/"+a+o},Dygraph.dateAxisFormatter=function(e,t){if(t>=Dygraph.DECADAL)return e.strftime("%Y");if(t>=Dygraph.MONTHLY)return e.strftime("%b %y");var n=3600*e.getHours()+60*e.getMinutes()+e.getSeconds()+e.getMilliseconds();return 0===n||t>=Dygraph.DAILY?new Date(e.getTime()+36e5).strftime("%d%b"):Dygraph.hmsString_(e.getTime())},Dygraph.DEFAULT_ATTRS={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,labelsDivWidth:250,labelsDivStyles:{},labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,xAxisLabelWidth:50,yAxisLabelWidth:50,rightGap:5,showRoller:!1,xValueParser:Dygraph.dateParser,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,avoidMinZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,drawXAxis:!0,drawYAxis:!0,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelColor:"black",axisLabelFont:"Arial",axisLabelWidth:50,drawYGrid:!0,drawXGrid:!0,gridLineColor:"rgb(128,128,128)",interactionModel:null,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillColor:"#A7B1C4",axes:{x:{pixelsPerLabel:60,axisLabelFormatter:Dygraph.dateAxisFormatter,valueFormatter:Dygraph.dateString_,ticker:null},y:{pixelsPerLabel:30,valueFormatter:Dygraph.numberValueFormatter,axisLabelFormatter:Dygraph.numberAxisLabelFormatter,ticker:null},y2:{pixelsPerLabel:30,valueFormatter:Dygraph.numberValueFormatter,axisLabelFormatter:Dygraph.numberAxisLabelFormatter,ticker:null}}},Dygraph.HORIZONTAL=1,Dygraph.VERTICAL=2,Dygraph.PLUGINS=[],Dygraph.addedAnnotationCSS=!1,Dygraph.prototype.__old_init__=function(e,t,n,r){if(null!==n){for(var i=["Date"],a=0;n.length>a;a++)i.push(n[a]);Dygraph.update(r,{labels:i})}this.__init__(e,t,r)},Dygraph.prototype.__init__=function(e,t,n){if(/MSIE/.test(navigator.userAgent)&&!window.opera&&"undefined"!=typeof G_vmlCanvasManager&&"complete"!=document.readyState){var r=this;return setTimeout(function(){r.__init__(e,t,n)},100),void 0}if((null===n||void 0===n)&&(n={}),n=Dygraph.mapLegacyOptions_(n),!e)return Dygraph.error("Constructing dygraph with a non-existent div!"),void 0;this.isUsingExcanvas_="undefined"!=typeof G_vmlCanvasManager,this.maindiv_=e,this.file_=t,this.rollPeriod_=n.rollPeriod||Dygraph.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=n.fractions||!1,this.dateWindow_=n.dateWindow||null,this.is_initial_draw_=!0,this.annotations_=[],this.zoomed_x_=!1,this.zoomed_y_=!1,e.innerHTML="",""===e.style.width&&n.width&&(e.style.width=n.width+"px"),""===e.style.height&&n.height&&(e.style.height=n.height+"px"),""===e.style.height&&0===e.clientHeight&&(e.style.height=Dygraph.DEFAULT_HEIGHT+"px",""===e.style.width&&(e.style.width=Dygraph.DEFAULT_WIDTH+"px")),this.width_=e.clientWidth,this.height_=e.clientHeight,n.stackedGraph&&(n.fillGraph=!0),this.user_attrs_={},Dygraph.update(this.user_attrs_,n),this.attrs_={},Dygraph.updateDeep(this.attrs_,Dygraph.DEFAULT_ATTRS),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.createInterface_(),this.plugins_=[];for(var i=0;Dygraph.PLUGINS.length>i;i++){var a=Dygraph.PLUGINS[i],o=new a,s={plugin:o,events:{},options:{},pluginOptions:{}},l=function(e){return{addEventListener:function(t,n){e.events[t]=n}}}(s);o.activate(this,l),this.plugins_.push(s)}this.eventListeners_={};for(var i=0;this.plugins_.length>i;i++){var c=this.plugins_[i];for(var u in c.events)if(c.events.hasOwnProperty(u)){var d=c.events[u],p=[c.plugin,d];u in this.eventListeners_?this.eventListeners_[u].push(p):this.eventListeners_[u]=[p]}}this.start_()},Dygraph.prototype.cascadeEvents_=function(e,t){if(!e in this.eventListeners_)return!0;var n={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!n.cancelable)throw"Cannot call preventDefault on non-cancelable event.";n.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){propagationStopped=!0}};Dygraph.update(n,t);for(var r=this.eventListeners_[e],i=r.length-1;i>=0;i--){var a=r[i][0],o=r[i][1];if(o.call(a,n),n.propagationStopped)break}return n.defaultPrevented},Dygraph.prototype.isZoomed=function(e){if(null==e)return this.zoomed_x_||this.zoomed_y_;if("x"===e)return this.zoomed_x_;if("y"===e)return this.zoomed_y_;throw"axis parameter is ["+e+"] must be null, 'x' or 'y'."},Dygraph.prototype.toString=function(){var e=this.maindiv_,t=e&&e.id?e.id:e;return"[Dygraph "+t+"]"},Dygraph.prototype.attr_=function(e,t){var n=[];n.push(this.attrs_),this.user_attrs_&&(n.push(this.user_attrs_),t&&(this.user_attrs_.hasOwnProperty(t)&&n.push(this.user_attrs_[t]),t===this.highlightSet_&&this.user_attrs_.hasOwnProperty("highlightSeriesOpts")&&n.push(this.user_attrs_.highlightSeriesOpts)));for(var r=null,i=n.length-1;i>=0;--i){var a=n[i];if(a.hasOwnProperty(e)){r=a[e];break}}return r},Dygraph.prototype.getOption=function(e,t){return this.attr_(e,t)},Dygraph.prototype.optionsViewForAxis_=function(e){var t=this;return function(n){var r=t.user_attrs_.axes;return r&&r[e]&&r[e][n]?r[e][n]:t.user_attrs_[n]!==void 0?t.user_attrs_[n]:(r=t.attrs_.axes,r&&r[e]&&r[e][n]?r[e][n]:"y"==e&&t.axes_[0].hasOwnProperty(n)?t.axes_[0][n]:"y2"==e&&t.axes_[1].hasOwnProperty(n)?t.axes_[1][n]:t.attr_(n))}},Dygraph.prototype.rollPeriod=function(){return this.rollPeriod_},Dygraph.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},Dygraph.prototype.xAxisExtremes=function(){var e=this.rawData_[0][0],t=this.rawData_[this.rawData_.length-1][0];return[e,t]},Dygraph.prototype.yAxisRange=function(e){if(e===void 0&&(e=0),0>e||e>=this.axes_.length)return null;
var t=this.axes_[e];return[t.computedValueRange[0],t.computedValueRange[1]]},Dygraph.prototype.yAxisRanges=function(){for(var e=[],t=0;this.axes_.length>t;t++)e.push(this.yAxisRange(t));return e},Dygraph.prototype.toDomCoords=function(e,t,n){return[this.toDomXCoord(e),this.toDomYCoord(t,n)]},Dygraph.prototype.toDomXCoord=function(e){if(null===e)return null;var t=this.plotter_.area,n=this.xAxisRange();return t.x+(e-n[0])/(n[1]-n[0])*t.w},Dygraph.prototype.toDomYCoord=function(e,t){var n=this.toPercentYCoord(e,t);if(null===n)return null;var r=this.plotter_.area;return r.y+n*r.h},Dygraph.prototype.toDataCoords=function(e,t,n){return[this.toDataXCoord(e),this.toDataYCoord(t,n)]},Dygraph.prototype.toDataXCoord=function(e){if(null===e)return null;var t=this.plotter_.area,n=this.xAxisRange();return n[0]+(e-t.x)/t.w*(n[1]-n[0])},Dygraph.prototype.toDataYCoord=function(e,t){if(null===e)return null;var n=this.plotter_.area,r=this.yAxisRange(t);if(t===void 0&&(t=0),this.axes_[t].logscale){var i=(e-n.y)/n.h,a=Dygraph.log10(r[1]),o=a-i*(a-Dygraph.log10(r[0])),s=Math.pow(Dygraph.LOG_SCALE,o);return s}return r[0]+(n.y+n.h-e)/n.h*(r[1]-r[0])},Dygraph.prototype.toPercentYCoord=function(e,t){if(null===e)return null;t===void 0&&(t=0);var n,r=this.yAxisRange(t);if(this.axes_[t].logscale){var i=Dygraph.log10(r[1]);n=(i-Dygraph.log10(e))/(i-Dygraph.log10(r[0]))}else n=(r[1]-e)/(r[1]-r[0]);return n},Dygraph.prototype.toPercentXCoord=function(e){if(null===e)return null;var t=this.xAxisRange();return(e-t[0])/(t[1]-t[0])},Dygraph.prototype.numColumns=function(){return this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length},Dygraph.prototype.numRows=function(){return this.rawData_.length},Dygraph.prototype.fullXRange_=function(){return this.numRows()>0?[this.rawData_[0][0],this.rawData_[this.numRows()-1][0]]:[0,1]},Dygraph.prototype.getValue=function(e,t){return 0>e||e>this.rawData_.length?null:0>t||t>this.rawData_[e].length?null:this.rawData_[e][t]},Dygraph.prototype.createInterface_=function(){var e=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px",e.appendChild(this.graphDiv),this.canvas_=Dygraph.createCanvas(),this.canvas_.style.position="absolute",this.canvas_.width=this.width_,this.canvas_.height=this.height_,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",this.canvas_ctx_=Dygraph.getContext(this.canvas_),this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.hidden_ctx_=Dygraph.getContext(this.hidden_),this.attr_("showRangeSelector")&&(this.rangeSelector_=new DygraphRangeSelector(this)),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new DygraphLayout(this),this.rangeSelector_&&this.rangeSelector_.addToGraph(this.graphDiv,this.layout_);var t=this;this.mouseMoveHandler=function(e){t.mouseMove_(e)},Dygraph.addEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler),this.mouseOutHandler=function(e){t.mouseOut_(e)},Dygraph.addEvent(this.mouseEventElement_,"mouseout",this.mouseOutHandler),this.createDragInterface_(),this.resizeHandler=function(){t.resize()},Dygraph.addEvent(window,"resize",this.resizeHandler)},Dygraph.prototype.destroy=function(){var e=function(t){for(;t.hasChildNodes();)e(t.firstChild),t.removeChild(t.firstChild)};Dygraph.removeEvent(this.mouseEventElement_,"mouseout",this.mouseOutHandler),Dygraph.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler),Dygraph.removeEvent(this.mouseEventElement_,"mousemove",this.mouseUpHandler_),e(this.maindiv_);var t=function(e){for(var t in e)"object"==typeof e[t]&&(e[t]=null)};Dygraph.removeEvent(window,"resize",this.resizeHandler),this.resizeHandler=null,t(this.layout_),t(this.plotter_),t(this)},Dygraph.prototype.createPlotKitCanvas_=function(e){var t=Dygraph.createCanvas();return t.style.position="absolute",t.style.top=e.style.top,t.style.left=e.style.left,t.width=this.width_,t.height=this.height_,t.style.width=this.width_+"px",t.style.height=this.height_+"px",t},Dygraph.prototype.createMouseEventElement_=function(){if(this.isUsingExcanvas_){var e=document.createElement("div");return e.style.position="absolute",e.style.backgroundColor="white",e.style.filter="alpha(opacity=0)",e.style.width=this.width_+"px",e.style.height=this.height_+"px",this.graphDiv.appendChild(e),e}return this.canvas_},Dygraph.prototype.setColors_=function(){var e=this.attr_("labels").length-1;this.colors_=[];var t,n=this.attr_("colors");if(n){for(t=0;e>t;t++)if(this.visibility()[t]){var r=n[t%n.length];this.colors_.push(r)}}else{var i=this.attr_("colorSaturation")||1,a=this.attr_("colorValue")||.5,o=Math.ceil(e/2);for(t=1;e>=t;t++)if(this.visibility()[t-1]){var s=t%2?Math.ceil(t/2):o+t/2,l=1*s/(1+e);this.colors_.push(Dygraph.hsvToRGB(l,i,a))}}this.plotter_.setColors(this.colors_)},Dygraph.prototype.getColors=function(){return this.colors_},Dygraph.prototype.getPropertiesForSeries=function(e){for(var t=-1,n=this.getLabels(),r=1;n.length>r;r++)if(n[r]==e){t=r;break}return-1==t?null:{name:e,column:t,visible:this.visibility()[t-1],color:this.plotter_.colors[e],axis:1+this.seriesToAxisMap_[e]}},Dygraph.prototype.createRollInterface_=function(){this.roller_||(this.roller_=document.createElement("input"),this.roller_.type="text",this.roller_.style.display="none",this.graphDiv.appendChild(this.roller_));var e=this.attr_("showRoller")?"block":"none",t=this.plotter_.area,n={position:"absolute",zIndex:10,top:t.y+t.h-25+"px",left:t.x+1+"px",display:e};this.roller_.size="2",this.roller_.value=this.rollPeriod_;for(var r in n)n.hasOwnProperty(r)&&(this.roller_.style[r]=n[r]);var i=this;this.roller_.onchange=function(){i.adjustRoll(i.roller_.value)}},Dygraph.prototype.dragGetX_=function(e,t){return Dygraph.pageX(e)-t.px},Dygraph.prototype.dragGetY_=function(e,t){return Dygraph.pageY(e)-t.py},Dygraph.prototype.createDragInterface_=function(){var e={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,initializeMouseDown:function(e,t,n){e.preventDefault?e.preventDefault():(e.returnValue=!1,e.cancelBubble=!0),n.px=Dygraph.findPosX(t.canvas_),n.py=Dygraph.findPosY(t.canvas_),n.dragStartX=t.dragGetX_(e,n),n.dragStartY=t.dragGetY_(e,n),n.cancelNextDblclick=!1}},t=this.attr_("interactionModel"),n=this,r=function(t){return function(r){t(r,n,e)}};for(var i in t)t.hasOwnProperty(i)&&Dygraph.addEvent(this.mouseEventElement_,i,r(t[i]));this.mouseUpHandler_=function(){if((e.isZooming||e.isPanning)&&(e.isZooming=!1,e.dragStartX=null,e.dragStartY=null),e.isPanning){e.isPanning=!1,e.draggingDate=null,e.dateRange=null;for(var t=0;n.axes_.length>t;t++)delete n.axes_[t].draggingValue,delete n.axes_[t].dragValueRange}},Dygraph.addEvent(document,"mouseup",this.mouseUpHandler_)},Dygraph.prototype.drawZoomRect_=function(e,t,n,r,i,a,o,s){var l=this.canvas_ctx_;a==Dygraph.HORIZONTAL?l.clearRect(Math.min(t,o),this.layout_.getPlotArea().y,Math.abs(t-o),this.layout_.getPlotArea().h):a==Dygraph.VERTICAL&&l.clearRect(this.layout_.getPlotArea().x,Math.min(r,s),this.layout_.getPlotArea().w,Math.abs(r-s)),e==Dygraph.HORIZONTAL?n&&t&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(Math.min(t,n),this.layout_.getPlotArea().y,Math.abs(n-t),this.layout_.getPlotArea().h)):e==Dygraph.VERTICAL&&i&&r&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(this.layout_.getPlotArea().x,Math.min(r,i),this.layout_.getPlotArea().w,Math.abs(i-r))),this.isUsingExcanvas_&&(this.currentZoomRectArgs_=[e,t,n,r,i,0,0,0])},Dygraph.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.canvas_.width,this.canvas_.height)},Dygraph.prototype.doZoomX_=function(e,t){this.currentZoomRectArgs_=null;var n=this.toDataXCoord(e),r=this.toDataXCoord(t);this.doZoomXDates_(n,r)},Dygraph.zoomAnimationFunction=function(e,t){var n=1.5;return(1-Math.pow(n,-e))/(1-Math.pow(n,-t))},Dygraph.prototype.doZoomXDates_=function(e,t){var n=this.xAxisRange(),r=[e,t];this.zoomed_x_=!0;var i=this;this.doAnimatedZoom(n,r,null,null,function(){i.attr_("zoomCallback")&&i.attr_("zoomCallback")(e,t,i.yAxisRanges())})},Dygraph.prototype.doZoomY_=function(e,t){this.currentZoomRectArgs_=null;for(var n=this.yAxisRanges(),r=[],i=0;this.axes_.length>i;i++){var a=this.toDataYCoord(e,i),o=this.toDataYCoord(t,i);r.push([o,a])}this.zoomed_y_=!0;var s=this;this.doAnimatedZoom(null,null,n,r,function(){if(s.attr_("zoomCallback")){var e=s.xAxisRange();s.attr_("zoomCallback")(e[0],e[1],s.yAxisRanges())}})},Dygraph.prototype.doUnzoom_=function(){var e=!1,t=!1,n=!1;null!==this.dateWindow_&&(e=!0,t=!0);for(var r=0;this.axes_.length>r;r++)this.axes_[r].valueWindow!==void 0&&null!==this.axes_[r].valueWindow&&(e=!0,n=!0);if(this.clearSelection(),e){this.zoomed_x_=!1,this.zoomed_y_=!1;var i=this.rawData_[0][0],a=this.rawData_[this.rawData_.length-1][0];if(!this.attr_("animatedZooms")){for(this.dateWindow_=null,r=0;this.axes_.length>r;r++)null!==this.axes_[r].valueWindow&&delete this.axes_[r].valueWindow;return this.drawGraph_(),this.attr_("zoomCallback")&&this.attr_("zoomCallback")(i,a,this.yAxisRanges()),void 0}var o=null,s=null,l=null,c=null;if(t&&(o=this.xAxisRange(),s=[i,a]),n){l=this.yAxisRanges();var u=this.gatherDatasets_(this.rolledSeries_,null),d=u[1];for(this.computeYAxisRanges_(d),c=[],r=0;this.axes_.length>r;r++){var p=this.axes_[r];c.push(null!=p.valueRange?p.valueRange:p.extremeRange)}}var h=this;this.doAnimatedZoom(o,s,l,c,function(){h.dateWindow_=null;for(var e=0;h.axes_.length>e;e++)null!==h.axes_[e].valueWindow&&delete h.axes_[e].valueWindow;h.attr_("zoomCallback")&&h.attr_("zoomCallback")(i,a,h.yAxisRanges())})}},Dygraph.prototype.doAnimatedZoom=function(e,t,n,r,i){var a,o,s=this.attr_("animatedZooms")?Dygraph.ANIMATION_STEPS:1,l=[],c=[];if(null!==e&&null!==t)for(a=1;s>=a;a++)o=Dygraph.zoomAnimationFunction(a,s),l[a-1]=[e[0]*(1-o)+o*t[0],e[1]*(1-o)+o*t[1]];if(null!==n&&null!==r)for(a=1;s>=a;a++){o=Dygraph.zoomAnimationFunction(a,s);for(var u=[],d=0;this.axes_.length>d;d++)u.push([n[d][0]*(1-o)+o*r[d][0],n[d][1]*(1-o)+o*r[d][1]]);c[a-1]=u}var p=this;Dygraph.repeatAndCleanup(function(e){if(c.length)for(var t=0;p.axes_.length>t;t++){var n=c[e][t];p.axes_[t].valueWindow=[n[0],n[1]]}l.length&&(p.dateWindow_=l[e]),p.drawGraph_()},s,Dygraph.ANIMATION_DURATION/s,i)},Dygraph.prototype.getArea=function(){return this.plotter_.area},Dygraph.prototype.eventToDomCoords=function(e){var t=Dygraph.pageX(e)-Dygraph.findPosX(this.mouseEventElement_),n=Dygraph.pageY(e)-Dygraph.findPosY(this.mouseEventElement_);return[t,n]},Dygraph.prototype.findClosestRow=function(e){for(var t=1/0,n=-1,r=this.layout_.points,i=r.length,a=0;i>a;a++){var o=r[a];if(Dygraph.isValidPoint(o,!0)){var s=Math.abs(o.canvasx-e);t>s&&(t=s,n=a)}}return this.idxToRow_(n)},Dygraph.prototype.findClosestPoint=function(e,t){for(var n,r,i,a,o,s,l=1/0,c=-1,u=this.layout_.points,d=0;this.layout_.datasets.length>d;++d)for(var p=this.layout_.setPointsOffsets[d],h=this.layout_.setPointsLengths[d],m=0;h>m;++m){var a=u[p+m];Dygraph.isValidPoint(a)&&(r=a.canvasx-e,i=a.canvasy-t,n=r*r+i*i,l>n&&(l=n,o=a,s=d,c=m))}var g=this.layout_.setNames[s];return{row:c+this.getLeftBoundary_(),seriesName:g,point:o}},Dygraph.prototype.findStackedPoint=function(e,t){for(var n,r,i=this.findClosestRow(e),a=this.getLeftBoundary_(),o=i-a,s=this.layout_.points,l=0;this.layout_.datasets.length>l;++l){var c=this.layout_.setPointsOffsets[l],u=this.layout_.setPointsLengths[l];if(!(o>=u)){var d=s[c+o];if(Dygraph.isValidPoint(d)){var p=d.canvasy;if(e>d.canvasx&&u>o+1){var h=s[c+o+1];if(Dygraph.isValidPoint(h)){var m=h.canvasx-d.canvasx;if(m>0){var g=(e-d.canvasx)/m;p+=g*(h.canvasy-d.canvasy)}}}else if(d.canvasx>e&&o>0){var f=s[c+o-1];if(Dygraph.isValidPoint(f)){var m=d.canvasx-f.canvasx;if(m>0){var g=(d.canvasx-e)/m;p+=g*(f.canvasy-d.canvasy)}}}(0==l||t>p)&&(n=d,r=l)}}}var b=this.layout_.setNames[r];return{row:i,seriesName:b,point:n}},Dygraph.prototype.mouseMove_=function(e){var t=this.layout_.points;if(void 0!==t){var n=this.eventToDomCoords(e),r=n[0],i=n[1],a=this.attr_("highlightSeriesOpts"),o=!1;if(a){var s;s=this.attr_("stackedGraph")?this.findStackedPoint(r,i):this.findClosestPoint(r,i),o=this.setSelection(s.row,s.seriesName)}else{var l=this.findClosestRow(r);o=this.setSelection(l)}var c=this.attr_("highlightCallback");c&&o&&c(e,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},Dygraph.prototype.getLeftBoundary_=function(){for(var e=0;this.boundaryIds_.length>e;e++)if(void 0!==this.boundaryIds_[e])return this.boundaryIds_[e][0];return 0},Dygraph.prototype.idxToRow_=function(e){if(0>e)return-1;for(var t=this.getLeftBoundary_(),n=0;this.layout_.datasets.length>n;++n){var r=this.layout_.datasets[n];if(r.length>e)return t+e;e-=r.length}return-1},Dygraph.prototype.animateSelection_=function(e){var t=10,n=30;void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var r=this.fadeLevel,i=0>e?r:t-r;if(0>=i)return this.fadeLevel&&this.updateSelection_(1),void 0;var a=++this.animateId,o=this;Dygraph.repeatAndCleanup(function(){o.animateId==a&&(o.fadeLevel+=e,0===o.fadeLevel?o.clearSelection():o.updateSelection_(o.fadeLevel/t))},i,n,function(){})},Dygraph.prototype.updateSelection_=function(e){this.cascadeEvents_("select",{selectedX:this.lastx_,selectedPoints:this.selPoints_});var t,n=this.canvas_ctx_;if(this.attr_("highlightSeriesOpts")){n.clearRect(0,0,this.width_,this.height_);var r=1-this.attr_("highlightSeriesBackgroundAlpha");if(r){var i=!0;if(i){if(void 0===e)return this.animateSelection_(1),void 0;r*=e}n.fillStyle="rgba(255,255,255,"+r+")",n.fillRect(0,0,this.width_,this.height_)}var a=this.datasetIndexFromSetName_(this.highlightSet_);this.plotter_._drawLine(n,a)}else if(this.previousVerticalX_>=0){var o=0,s=this.attr_("labels");for(t=1;s.length>t;t++){var l=this.attr_("highlightCircleSize",s[t]);l>o&&(o=l)}var c=this.previousVerticalX_;n.clearRect(c-o-1,0,2*o+2,this.height_)}if(this.isUsingExcanvas_&&this.currentZoomRectArgs_&&Dygraph.prototype.drawZoomRect_.apply(this,this.currentZoomRectArgs_),this.selPoints_.length>0){var u=this.selPoints_[0].canvasx;for(n.save(),t=0;this.selPoints_.length>t;t++){var d=this.selPoints_[t];if(Dygraph.isOK(d.canvasy)){var p=this.attr_("highlightCircleSize",d.name),h=this.attr_("drawHighlightPointCallback",d.name),m=this.plotter_.colors[d.name];h||(h=Dygraph.Circles.DEFAULT),n.lineWidth=this.attr_("strokeWidth",d.name),n.strokeStyle=m,n.fillStyle=m,h(this.g,d.name,n,u,d.canvasy,m,p)}}n.restore(),this.previousVerticalX_=u}},Dygraph.prototype.setSelection=function(e,t){this.selPoints_=[];var n=0;e!==!1&&(e-=this.getLeftBoundary_());var r=!1;if(e!==!1&&e>=0){e!=this.lastRow_&&(r=!0),this.lastRow_=e;for(var i=0;this.layout_.datasets.length>i;++i){var a=this.layout_.datasets[i];if(a.length>e){var o=this.layout_.points[n+e];this.attr_("stackedGraph")&&(o=this.layout_.unstackPointAtIndex(n+e)),null!==o.yval&&this.selPoints_.push(o)}n+=a.length}}else this.lastRow_>=0&&(r=!0),this.lastRow_=-1;return this.lastx_=this.selPoints_.length?this.selPoints_[0].xval:-1,void 0!==t&&(this.highlightSet_!==t&&(r=!0),this.highlightSet_=t),r&&this.updateSelection_(void 0),r},Dygraph.prototype.mouseOut_=function(e){this.attr_("unhighlightCallback")&&this.attr_("unhighlightCallback")(e),this.attr_("hideOverlayOnMouseOut")&&this.clearSelection()},Dygraph.prototype.clearSelection=function(){return this.cascadeEvents_("deselect",{}),this.fadeLevel?(this.animateSelection_(-1),void 0):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,this.highlightSet_=null,void 0)},Dygraph.prototype.getSelection=function(){if(!this.selPoints_||1>this.selPoints_.length)return-1;for(var e=0;this.layout_.points.length>e;e++)if(this.layout_.points[e].x==this.selPoints_[0].x)return e+this.getLeftBoundary_();return-1},Dygraph.prototype.getHighlightSeries=function(){return this.highlightSet_},Dygraph.prototype.loadedEvent_=function(e){this.rawData_=this.parseCSV_(e),this.predraw_()},Dygraph.prototype.addXTicks_=function(){var e;e=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.fullXRange_();var t=this.optionsViewForAxis_("x"),n=t("ticker")(e[0],e[1],this.width_,t,this);this.layout_.setXTicks(n)},Dygraph.prototype.extremeValues_=function(e){var t,n,r=null,i=null,a=this.attr_("errorBars")||this.attr_("customBars");if(a){for(t=0;e.length>t;t++)if(n=e[t][1][0]){var o=n-e[t][1][1],s=n+e[t][1][2];o>n&&(o=n),n>s&&(s=n),(null===i||s>i)&&(i=s),(null===r||r>o)&&(r=o)}}else for(t=0;e.length>t;t++)n=e[t][1],null===n||isNaN(n)||((null===i||n>i)&&(i=n),(null===r||r>n)&&(r=n));return[r,i]},Dygraph.prototype.predraw_=function(){var e=new Date;this.computeYAxes_(),this.plotter_&&this.plotter_.clear(),this.plotter_=new DygraphCanvasRenderer(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rangeSelector_&&this.rangeSelector_.renderStaticLayer(),this.rolledSeries_=[null];for(var t=1;this.numColumns()>t;t++){var n=this.attr_("logscale",t),r=this.extractSeries_(this.rawData_,t,n);r=this.rollingAverage(r,this.rollPeriod_),this.rolledSeries_.push(r)}this.drawGraph_();var i=new Date;this.drawingTimeMs_=i-e},Dygraph.prototype.gatherDatasets_=function(e,t){var n,r,i,a=[],o=[],s=[],l={},c=e.length-1;for(n=c;n>=1;n--)if(this.visibility()[n-1]){var u=[];for(r=0;e[n].length>r;r++)u.push(e[n][r]);var d=this.attr_("errorBars")||this.attr_("customBars");if(t){var p=t[0],h=t[1],m=[],g=null,f=null;for(i=0;u.length>i;i++)u[i][0]>=p&&null===g&&(g=i),h>=u[i][0]&&(f=i);for(null===g&&(g=0),g>0&&g--,null===f&&(f=u.length-1),u.length-1>f&&f++,a[n-1]=[g,f],i=g;f>=i;i++)m.push(u[i]);u=m}else a[n-1]=[0,u.length-1];var b=this.extremeValues_(u);if(d)for(r=0;u.length>r;r++)u[r]=[u[r][0],u[r][1][0],u[r][1][1],u[r][1][2]];else if(this.attr_("stackedGraph")){var v,y=u.length;for(r=0;y>r;r++){var _=u[r][0];void 0===o[_]&&(o[_]=0),v=u[r][1],null!==v?(o[_]+=v,u[r]=[_,o[_]],o[_]>b[1]&&(b[1]=o[_]),o[_]<b[0]&&(b[0]=o[_])):u[r]=[_,null]}}var k=this.attr_("labels")[n];l[k]=b,s[n]=u}if(this.attr_("stackedGraph"))for(i=s.length-1;i>=0;--i)if(s[i]){for(r=0;s[i].length>r;r++){var _=s[i][r][0];if(isNaN(o[_]))for(n=s.length-1;n>=0;n--)s[n]&&(s[n][r][1]=0/0)}break}return[s,l,a]},Dygraph.prototype.drawGraph_=function(){var e=new Date,t=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.attr_("highlightCircleSize");var n=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),r=n[0],i=n[1];this.boundaryIds_=n[2],this.setIndexByName_={};var a=this.attr_("labels");a.length>0&&(this.setIndexByName_[a[0]]=0);for(var o=0,s=1;r.length>s;s++)this.setIndexByName_[a[s]]=s,this.visibility()[s-1]&&(this.layout_.addDataset(a[s],r[s]),this.datasetIndex_[s]=o++);this.computeYAxisRanges_(i),this.layout_.setYAxes(this.axes_),this.addXTicks_();var l=this.zoomed_x_;if(this.layout_.setDateWindow(this.dateWindow_),this.zoomed_x_=l,this.layout_.evaluateWithError(),this.renderGraph_(t),this.attr_("timingName")){var c=new Date;console&&console.log(this.attr_("timingName")+" - drawGraph: "+(c-e)+"ms")}},Dygraph.prototype.renderGraph_=function(e){this.plotter_.clear(),this.plotter_.render(),this.canvas_.getContext("2d").clearRect(0,0,this.canvas_.width,this.canvas_.height),this.rangeSelector_&&this.rangeSelector_.renderInteractiveLayer(),this.cascadeEvents_("drawChart"),null!==this.attr_("drawCallback")&&this.attr_("drawCallback")(this,e)},Dygraph.prototype.computeYAxes_=function(){var e,t,n,r,i,a,o;if(void 0!==this.axes_&&this.user_attrs_.hasOwnProperty("valueRange")===!1)for(t=[],i=0;this.axes_.length>i;i++)t.push(this.axes_[i].valueWindow);this.axes_=[{yAxisId:0,g:this}],this.seriesToAxisMap_={};var s=this.attr_("labels"),l={};for(e=1;s.length>e;e++)l[s[e]]=e-1;var c=["includeZero","valueRange","labelsKMB","labelsKMG2","pixelsPerYLabel","yAxisLabelWidth","axisLabelFontSize","axisTickSize","logscale"];for(e=0;c.length>e;e++){var u=c[e];o=this.attr_(u),o&&(this.axes_[0][u]=o)}for(n in l)if(l.hasOwnProperty(n))if(r=this.attr_("axis",n),null!==r){if("object"==typeof r){a={},Dygraph.update(a,this.axes_[0]),Dygraph.update(a,{valueRange:null});var d=this.axes_.length;a.yAxisId=d,a.g=this,Dygraph.update(a,r),this.axes_.push(a),this.seriesToAxisMap_[n]=d}}else this.seriesToAxisMap_[n]=0;for(n in l)if(l.hasOwnProperty(n)&&(r=this.attr_("axis",n),"string"==typeof r)){if(!this.seriesToAxisMap_.hasOwnProperty(r))return this.error("Series "+n+" wants to share a y-axis with series "+r+", which does not define its own axis."),null;var p=this.seriesToAxisMap_[r];this.seriesToAxisMap_[n]=p}if(void 0!==t)for(i=0;t.length>i;i++)this.axes_[i].valueWindow=t[i];for(r=0;this.axes_.length>r;r++)if(0===r)a=this.optionsViewForAxis_("y"+(r?"2":"")),o=a("valueRange"),o&&(this.axes_[r].valueRange=o);else{var h=this.user_attrs_.axes;h&&h.y2&&(o=h.y2.valueRange,o&&(this.axes_[r].valueRange=o))}},Dygraph.prototype.numAxes=function(){var e=0;for(var t in this.seriesToAxisMap_)if(this.seriesToAxisMap_.hasOwnProperty(t)){var n=this.seriesToAxisMap_[t];n>e&&(e=n)}return 1+e},Dygraph.prototype.axisPropertiesForSeries=function(e){return this.axes_[this.seriesToAxisMap_[e]]},Dygraph.prototype.computeYAxisRanges_=function(e){var t,n=[];for(t in this.seriesToAxisMap_)if(this.seriesToAxisMap_.hasOwnProperty(t)){for(var r=this.seriesToAxisMap_[t];r>=n.length;)n.push([]);n[r].push(t)}for(var i=0;this.axes_.length>i;i++){var a=this.axes_[i];if(n[i]){t=n[i];for(var o,s,l=1/0,c=-1/0,u=0;t.length>u;u++)e.hasOwnProperty(t[u])&&(o=e[t[u]][0],null!==o&&(l=Math.min(o,l)),s=e[t[u]][1],null!==s&&(c=Math.max(s,c)));a.includeZero&&l>0&&(l=0),1/0==l&&(l=0),c==-1/0&&(c=1);var d=c-l;0===d&&(d=c);var p,h;a.logscale?(p=c+.1*d,h=l):(p=c+.1*d,h=l-.1*d,this.attr_("avoidMinZero")||(0>h&&l>=0&&(h=0),p>0&&0>=c&&(p=0)),this.attr_("includeZero")&&(0>c&&(p=0),l>0&&(h=0))),a.extremeRange=[h,p]}else a.extremeRange=[0,1];a.computedValueRange=a.valueWindow?[a.valueWindow[0],a.valueWindow[1]]:a.valueRange?[a.valueRange[0],a.valueRange[1]]:a.extremeRange;var m=this.optionsViewForAxis_("y"+(i?"2":"")),g=m("ticker");if(0===i||a.independentTicks)a.ticks=g(a.computedValueRange[0],a.computedValueRange[1],this.height_,m,this);else{for(var f=this.axes_[0],b=f.ticks,v=f.computedValueRange[1]-f.computedValueRange[0],y=a.computedValueRange[1]-a.computedValueRange[0],_=[],k=0;b.length>k;k++){var w=(b[k].v-f.computedValueRange[0])/v,E=a.computedValueRange[0]+w*y;_.push(E)}a.ticks=g(a.computedValueRange[0],a.computedValueRange[1],this.height_,m,this,_)}}},Dygraph.prototype.extractSeries_=function(e,t,n){for(var r=[],i=0;e.length>i;i++){var a=e[i][0],o=e[i][t];n&&0>=o&&(o=null),r.push([a,o])}return r},Dygraph.prototype.rollingAverage=function(e,t){if(2>e.length)return e;t=Math.min(t,e.length);var n,r,i,a,o,s,l,c,u=[],d=this.attr_("sigma");if(this.fractions_){var p=0,h=0,m=100;for(i=0;e.length>i;i++){p+=e[i][1][0],h+=e[i][1][1],i-t>=0&&(p-=e[i-t][1][0],h-=e[i-t][1][1]);var g=e[i][0],f=h?p/h:0;if(this.attr_("errorBars"))if(this.attr_("wilsonInterval"))if(h){var b=0>f?0:f,v=h,y=d*Math.sqrt(b*(1-b)/v+d*d/(4*v*v)),_=1+d*d/h;n=(b+d*d/(2*h)-y)/_,r=(b+d*d/(2*h)+y)/_,u[i]=[g,[b*m,(b-n)*m,(r-b)*m]]}else u[i]=[g,[0,0,0]];else c=h?d*Math.sqrt(f*(1-f)/h):1,u[i]=[g,[m*f,m*c,m*c]];else u[i]=[g,m*f]}}else if(this.attr_("customBars")){n=0;var k=0;r=0;var w=0;for(i=0;e.length>i;i++){var E=e[i][1];if(o=E[1],u[i]=[e[i][0],[o,o-E[0],E[2]-o]],null===o||isNaN(o)||(n+=E[0],k+=o,r+=E[2],w+=1),i-t>=0){var C=e[i-t];null===C[1][1]||isNaN(C[1][1])||(n-=C[1][0],k-=C[1][1],r-=C[1][2],w-=1)}u[i]=w?[e[i][0],[1*k/w,1*(k-n)/w,1*(r-k)/w]]:[e[i][0],[null,null,null]]}}else if(this.attr_("errorBars"))for(i=0;e.length>i;i++){s=0;var T=0;for(l=0,a=Math.max(0,i-t+1);i+1>a;a++)o=e[a][1][0],null===o||isNaN(o)||(l++,s+=e[a][1][0],T+=Math.pow(e[a][1][1],2));l?(c=Math.sqrt(T)/l,u[i]=[e[i][0],[s/l,d*c,d*c]]):u[i]=[e[i][0],[null,null,null]]}else{if(1==t)return e;for(i=0;e.length>i;i++){for(s=0,l=0,a=Math.max(0,i-t+1);i+1>a;a++)o=e[a][1],null===o||isNaN(o)||(l++,s+=e[a][1]);u[i]=l?[e[i][0],s/l]:[e[i][0],null]}}return u},Dygraph.prototype.detectTypeFromString_=function(e){var t=!1,n=e.indexOf("-");n>0&&"e"!=e[n-1]&&"E"!=e[n-1]||e.indexOf("/")>=0||isNaN(parseFloat(e))?t=!0:8==e.length&&e>"19700101"&&"20371231">e&&(t=!0),t?(this.attrs_.xValueParser=Dygraph.dateParser,this.attrs_.axes.x.valueFormatter=Dygraph.dateString_,this.attrs_.axes.x.ticker=Dygraph.dateTicker,this.attrs_.axes.x.axisLabelFormatter=Dygraph.dateAxisFormatter):(this.attrs_.xValueParser=function(e){return parseFloat(e)},this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=Dygraph.numericLinearTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)},Dygraph.prototype.parseFloat_=function(e,t,n){var r=parseFloat(e);if(!isNaN(r))return r;if(/^ *$/.test(e))return null;if(/^ *nan *$/i.test(e))return 0/0;var i="Unable to parse '"+e+"' as a number";return null!==n&&null!==t&&(i+=" on line "+(1+t)+" ('"+n+"') of CSV."),this.error(i),null},Dygraph.prototype.parseCSV_=function(e){var t,n,r=[],i=e.split("\n"),a=this.attr_("delimiter");-1==i[0].indexOf(a)&&i[0].indexOf("	")>=0&&(a="	");var o=0;"labels"in this.user_attrs_||(o=1,this.attrs_.labels=i[0].split(a));for(var s,l=0,c=!1,u=this.attr_("labels").length,d=!1,p=o;i.length>p;p++){var h=i[p];if(l=p,0!==h.length&&"#"!=h[0]){var m=h.split(a);if(!(2>m.length)){var g=[];if(c||(this.detectTypeFromString_(m[0]),s=this.attr_("xValueParser"),c=!0),g[0]=s(m[0],this),this.fractions_)for(n=1;m.length>n;n++)t=m[n].split("/"),2!=t.length?(this.error('Expected fractional "num/den" values in CSV data but found a value \''+m[n]+"' on line "+(1+p)+" ('"+h+"') which is not of this form."),g[n]=[0,0]):g[n]=[this.parseFloat_(t[0],p,h),this.parseFloat_(t[1],p,h)];else if(this.attr_("errorBars"))for(1!=m.length%2&&this.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+p)+" has an odd number of values ("+(m.length-1)+"): '"+h+"'"),n=1;m.length>n;n+=2)g[(n+1)/2]=[this.parseFloat_(m[n],p,h),this.parseFloat_(m[n+1],p,h)];else if(this.attr_("customBars"))for(n=1;m.length>n;n++){var f=m[n];/^ *$/.test(f)?g[n]=[null,null,null]:(t=f.split(";"),3==t.length?g[n]=[this.parseFloat_(t[0],p,h),this.parseFloat_(t[1],p,h),this.parseFloat_(t[2],p,h)]:this.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+f+'" on line '+(1+p)))}else for(n=1;m.length>n;n++)g[n]=this.parseFloat_(m[n],p,h);if(r.length>0&&g[0]<r[r.length-1][0]&&(d=!0),g.length!=u&&this.error("Number of columns in line "+p+" ("+g.length+") does not agree with number of labels ("+u+") "+h),0===p&&this.attr_("labels")){var b=!0;for(n=0;b&&g.length>n;n++)g[n]&&(b=!1);if(b){this.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+h+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}r.push(g)}}}return d&&(this.warn("CSV is out of order; order it correctly to speed loading."),r.sort(function(e,t){return e[0]-t[0]})),r},Dygraph.prototype.parseArray_=function(e){if(0===e.length)return this.error("Can't plot empty data set"),null;if(0===e[0].length)return this.error("Data set cannot contain an empty row"),null;var t;if(null===this.attr_("labels"))for(this.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],t=1;e[0].length>t;t++)this.attrs_.labels.push("Y"+t);if(Dygraph.isDateLike(e[0][0])){this.attrs_.axes.x.valueFormatter=Dygraph.dateString_,this.attrs_.axes.x.axisLabelFormatter=Dygraph.dateAxisFormatter,this.attrs_.axes.x.ticker=Dygraph.dateTicker;var n=Dygraph.clone(e);for(t=0;e.length>t;t++){if(0===n[t].length)return this.error("Row "+(1+t)+" of data is empty"),null;if(null===n[t][0]||"function"!=typeof n[t][0].getTime||isNaN(n[t][0].getTime()))return this.error("x value in row "+(1+t)+" is not a Date"),null;n[t][0]=n[t][0].getTime()}return n}return this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.axisLabelFormatter=Dygraph.numberAxisLabelFormatter,this.attrs_.axes.x.ticker=Dygraph.numericLinearTicks,e},Dygraph.prototype.parseDataTable_=function(e){var t=function(e){var t=String.fromCharCode(65+e%26);for(e=Math.floor(e/26);e>0;)t=String.fromCharCode(65+(e-1)%26)+t.toLowerCase(),e=Math.floor((e-1)/26);return t},n=e.getNumberOfColumns(),r=e.getNumberOfRows(),i=e.getColumnType(0);if("date"==i||"datetime"==i)this.attrs_.xValueParser=Dygraph.dateParser,this.attrs_.axes.x.valueFormatter=Dygraph.dateString_,this.attrs_.axes.x.ticker=Dygraph.dateTicker,this.attrs_.axes.x.axisLabelFormatter=Dygraph.dateAxisFormatter;else{if("number"!=i)return this.error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+i+"')"),null;this.attrs_.xValueParser=function(e){return parseFloat(e)},this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=Dygraph.numericLinearTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var a,o,s=[],l={},c=!1;for(a=1;n>a;a++){var u=e.getColumnType(a);if("number"==u)s.push(a);else if("string"==u&&this.attr_("displayAnnotations")){var d=s[s.length-1];l.hasOwnProperty(d)?l[d].push(a):l[d]=[a],c=!0}else this.error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}var p=[e.getColumnLabel(0)];for(a=0;s.length>a;a++)p.push(e.getColumnLabel(s[a])),this.attr_("errorBars")&&(a+=1);this.attrs_.labels=p,n=p.length;var h=[],m=!1,g=[];for(a=0;r>a;a++){var f=[];if(void 0!==e.getValue(a,0)&&null!==e.getValue(a,0)){if("date"==i||"datetime"==i?f.push(e.getValue(a,0).getTime()):f.push(e.getValue(a,0)),this.attr_("errorBars"))for(o=0;n-1>o;o++)f.push([e.getValue(a,1+2*o),e.getValue(a,2+2*o)]);else{for(o=0;s.length>o;o++){var b=s[o];if(f.push(e.getValue(a,b)),c&&l.hasOwnProperty(b)&&null!==e.getValue(a,l[b][0])){var v={};v.series=e.getColumnLabel(b),v.xval=f[0],v.shortText=t(g.length),v.text="";for(var y=0;l[b].length>y;y++)y&&(v.text+="\n"),v.text+=e.getValue(a,l[b][y]);g.push(v)}}for(o=0;f.length>o;o++)isFinite(f[o])||(f[o]=null)}h.length>0&&f[0]<h[h.length-1][0]&&(m=!0),h.push(f)}else this.warn("Ignoring row "+a+" of DataTable because of undefined or null first column.")}m&&(this.warn("DataTable is out of order; order it correctly to speed loading."),h.sort(function(e,t){return e[0]-t[0]})),this.rawData_=h,g.length>0&&this.setAnnotations(g,!0)},Dygraph.prototype.start_=function(){var e=this.file_;if("function"==typeof e&&(e=e()),Dygraph.isArrayLike(e))this.rawData_=this.parseArray_(e),this.predraw_();else if("object"==typeof e&&"function"==typeof e.getColumnRange)this.parseDataTable_(e),this.predraw_();else if("string"==typeof e)if(e.indexOf("\n")>=0)this.loadedEvent_(e);else{var t=new XMLHttpRequest,n=this;t.onreadystatechange=function(){4==t.readyState&&(200===t.status||0===t.status)&&n.loadedEvent_(t.responseText)},t.open("GET",e,!0),t.send(null)}else this.error("Unknown data format: "+typeof e)},Dygraph.prototype.updateOptions=function(e,t){t===void 0&&(t=!1);var n=e.file,r=Dygraph.mapLegacyOptions_(e);"rollPeriod"in r&&(this.rollPeriod_=r.rollPeriod),"dateWindow"in r&&(this.dateWindow_=r.dateWindow,"isZoomedIgnoreProgrammaticZoom"in r||(this.zoomed_x_=null!==r.dateWindow)),"valueRange"in r&&!("isZoomedIgnoreProgrammaticZoom"in r)&&(this.zoomed_y_=null!==r.valueRange);var i=Dygraph.isPixelChangingOptionList(this.attr_("labels"),r);Dygraph.updateDeep(this.user_attrs_,r),n?(this.file_=n,t||this.start_()):t||(i?this.predraw_():this.renderGraph_(!1))
},Dygraph.mapLegacyOptions_=function(e){var t={};for(var n in e)"file"!=n&&e.hasOwnProperty(n)&&(t[n]=e[n]);var r=function(e,n,r){t.axes||(t.axes={}),t.axes[e]||(t.axes[e]={}),t.axes[e][n]=r},i=function(n,i,a){e[n]!==void 0&&(r(i,a,e[n]),delete t[n])};return i("xValueFormatter","x","valueFormatter"),i("pixelsPerXLabel","x","pixelsPerLabel"),i("xAxisLabelFormatter","x","axisLabelFormatter"),i("xTicker","x","ticker"),i("yValueFormatter","y","valueFormatter"),i("pixelsPerYLabel","y","pixelsPerLabel"),i("yAxisLabelFormatter","y","axisLabelFormatter"),i("yTicker","y","ticker"),t},Dygraph.prototype.resize=function(e,t){if(!this.resize_lock){this.resize_lock=!0,null===e!=(null===t)&&(this.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),e=t=null);var n=this.width_,r=this.height_;e?(this.maindiv_.style.width=e+"px",this.maindiv_.style.height=t+"px",this.width_=e,this.height_=t):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),(n!=this.width_||r!=this.height_)&&(this.maindiv_.innerHTML="",this.roller_=null,this.attrs_.labelsDiv=null,this.createInterface_(),this.annotations_.length&&this.layout_.setAnnotations(this.annotations_),this.predraw_()),this.resize_lock=!1}},Dygraph.prototype.adjustRoll=function(e){this.rollPeriod_=e,this.predraw_()},Dygraph.prototype.visibility=function(){for(this.attr_("visibility")||(this.attrs_.visibility=[]);this.attr_("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.attr_("visibility")},Dygraph.prototype.setVisibility=function(e,t){var n=this.visibility();0>e||e>=n.length?this.warn("invalid series number in setVisibility: "+e):(n[e]=t,this.predraw_())},Dygraph.prototype.size=function(){return{width:this.width_,height:this.height_}},Dygraph.prototype.setAnnotations=function(e,t){Dygraph.addAnnotationRule(),this.annotations_=e,this.layout_.setAnnotations(this.annotations_),t||this.predraw_()},Dygraph.prototype.annotations=function(){return this.annotations_},Dygraph.prototype.getLabels=function(){return this.attr_("labels").slice()},Dygraph.prototype.indexFromSetName=function(e){return this.setIndexByName_[e]},Dygraph.prototype.datasetIndexFromSetName_=function(e){return this.datasetIndex_[this.indexFromSetName(e)]},Dygraph.addAnnotationRule=function(){if(!Dygraph.addedAnnotationCSS){var e="border: 1px solid black; background-color: white; text-align: center;",t=document.createElement("style");t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t);for(var n=0;document.styleSheets.length>n;n++)if(!document.styleSheets[n].disabled){var r=document.styleSheets[n];try{if(r.insertRule){var i=r.cssRules?r.cssRules.length:0;r.insertRule(".dygraphDefaultAnnotation { "+e+" }",i)}else r.addRule&&r.addRule(".dygraphDefaultAnnotation",e);return Dygraph.addedAnnotationCSS=!0,void 0}catch(a){}}this.warn("Unable to add default annotation CSS rule; display may be off.")}};var DateGraph=Dygraph;Dygraph.LOG_SCALE=10,Dygraph.LN_TEN=Math.log(Dygraph.LOG_SCALE),Dygraph.log10=function(e){return Math.log(e)/Dygraph.LN_TEN},Dygraph.DEBUG=1,Dygraph.INFO=2,Dygraph.WARNING=3,Dygraph.ERROR=3,Dygraph.LOG_STACK_TRACES=!1,Dygraph.DOTTED_LINE=[2,2],Dygraph.DASHED_LINE=[7,3],Dygraph.DOT_DASH_LINE=[7,2,2,2],Dygraph.log=function(e,t){var n;if("undefined"!=typeof printStackTrace){for(n=printStackTrace({guess:!1});-1!=n[0].indexOf("stacktrace");)n.splice(0,1);n.splice(0,2);for(var r=0;n.length>r;r++)n[r]=n[r].replace(/\([^)]*\/(.*)\)/,"@$1").replace(/\@.*\/([^\/]*)/,"@$1").replace("[object Object].","");var i=n.splice(0,1)[0];t+=" ("+i.replace(/^.*@ ?/,"")+")"}if("undefined"!=typeof console)switch(e){case Dygraph.DEBUG:console.debug("dygraphs: "+t);break;case Dygraph.INFO:console.info("dygraphs: "+t);break;case Dygraph.WARNING:console.warn("dygraphs: "+t);break;case Dygraph.ERROR:console.error("dygraphs: "+t)}Dygraph.LOG_STACK_TRACES&&console.log(n.join("\n"))},Dygraph.info=function(e){Dygraph.log(Dygraph.INFO,e)},Dygraph.prototype.info=Dygraph.info,Dygraph.warn=function(e){Dygraph.log(Dygraph.WARNING,e)},Dygraph.prototype.warn=Dygraph.warn,Dygraph.error=function(e){Dygraph.log(Dygraph.ERROR,e)},Dygraph.prototype.error=Dygraph.error,Dygraph.getContext=function(e){return e.getContext("2d")},Dygraph.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):(e[t+n]=function(){n(window.event)},e.attachEvent("on"+t,e[t+n]))},Dygraph.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):(e.detachEvent("on"+t,e[t+n]),e[t+n]=null)},Dygraph.cancelEvent=function(e){return e=e?e:window.event,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1},Dygraph.hsvToRGB=function(e,t,n){var r,i,a;if(0===t)r=n,i=n,a=n;else{var o=Math.floor(6*e),s=6*e-o,l=n*(1-t),c=n*(1-t*s),u=n*(1-t*(1-s));switch(o){case 1:r=c,i=n,a=l;break;case 2:r=l,i=n,a=u;break;case 3:r=l,i=c,a=n;break;case 4:r=u,i=l,a=n;break;case 5:r=n,i=l,a=c;break;case 6:case 0:r=n,i=u,a=l}}return r=Math.floor(255*r+.5),i=Math.floor(255*i+.5),a=Math.floor(255*a+.5),"rgb("+r+","+i+","+a+")"},Dygraph.findPosX=function(e){var t=0;if(e.offsetParent)for(var n=e;;){if(t+=n.offsetLeft,!n.offsetParent)break;n=n.offsetParent}else e.x&&(t+=e.x);for(;e&&e!=document.body;)t-=e.scrollLeft,e=e.parentNode;return t},Dygraph.findPosY=function(e){var t=0;if(e.offsetParent)for(var n=e;;){if(t+=n.offsetTop,!n.offsetParent)break;n=n.offsetParent}else e.y&&(t+=e.y);for(;e&&e!=document.body;)t-=e.scrollTop,e=e.parentNode;return t},Dygraph.pageX=function(e){if(e.pageX)return!e.pageX||0>e.pageX?0:e.pageX;var t=document,n=document.body;return e.clientX+(t.scrollLeft||n.scrollLeft)-(t.clientLeft||0)},Dygraph.pageY=function(e){if(e.pageY)return!e.pageY||0>e.pageY?0:e.pageY;var t=document,n=document.body;return e.clientY+(t.scrollTop||n.scrollTop)-(t.clientTop||0)},Dygraph.isOK=function(e){return e&&!isNaN(e)},Dygraph.isValidPoint=function(e,t){return e?null===e.yval?!1:null===e.x||void 0===e.x?!1:null===e.y||void 0===e.y?!1:isNaN(e.x)||!t&&isNaN(e.y)?!1:!0:!1},Dygraph.floatFormat=function(e,t){var n=Math.min(Math.max(1,t||2),21);return.001>Math.abs(e)&&0!==e?e.toExponential(n-1):e.toPrecision(n)},Dygraph.zeropad=function(e){return 10>e?"0"+e:""+e},Dygraph.hmsString_=function(e){var t=Dygraph.zeropad,n=new Date(e);return n.getSeconds()?t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds()):t(n.getHours())+":"+t(n.getMinutes())},Dygraph.round_=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},Dygraph.binarySearch=function(e,t,n,r,i){if((null===r||void 0===r||null===i||void 0===i)&&(r=0,i=t.length-1),r>i)return-1;(null===n||void 0===n)&&(n=0);var a=function(e){return e>=0&&t.length>e},o=parseInt((r+i)/2,10),s=t[o];if(s==e)return o;var l;return s>e?n>0&&(l=o-1,a(l)&&e>t[l])?o:Dygraph.binarySearch(e,t,n,r,o-1):e>s?0>n&&(l=o+1,a(l)&&t[l]>e)?o:Dygraph.binarySearch(e,t,n,o+1,i):void 0},Dygraph.dateParser=function(e){var t,n;if((-1==e.search("-")||-1!=e.search("T")||-1!=e.search("Z"))&&(n=Dygraph.dateStrToMillis(e),n&&!isNaN(n)))return n;if(-1!=e.search("-")){for(t=e.replace("-","/","g");-1!=t.search("-");)t=t.replace("-","/");n=Dygraph.dateStrToMillis(t)}else 8==e.length?(t=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2),n=Dygraph.dateStrToMillis(t)):n=Dygraph.dateStrToMillis(e);return(!n||isNaN(n))&&Dygraph.error("Couldn't parse "+e+" as a date"),n},Dygraph.dateStrToMillis=function(e){return new Date(e).getTime()},Dygraph.update=function(e,t){if(t!==void 0&&null!==t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},Dygraph.updateDeep=function(e,t){function n(e){return"object"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}if(t!==void 0&&null!==t)for(var r in t)t.hasOwnProperty(r)&&(null===t[r]?e[r]=null:Dygraph.isArrayLike(t[r])?e[r]=t[r].slice():n(t[r])?e[r]=t[r]:"object"==typeof t[r]?("object"!=typeof e[r]&&(e[r]={}),Dygraph.updateDeep(e[r],t[r])):e[r]=t[r]);return e},Dygraph.isArrayLike=function(e){var t=typeof e;return"object"!=t&&("function"!=t||"function"!=typeof e.item)||null===e||"number"!=typeof e.length||3===e.nodeType?!1:!0},Dygraph.isDateLike=function(e){return"object"!=typeof e||null===e||"function"!=typeof e.getTime?!1:!0},Dygraph.clone=function(e){for(var t=[],n=0;e.length>n;n++)Dygraph.isArrayLike(e[n])?t.push(Dygraph.clone(e[n])):t.push(e[n]);return t},Dygraph.createCanvas=function(){var e=document.createElement("canvas"),t=/MSIE/.test(navigator.userAgent)&&!window.opera;return t&&"undefined"!=typeof G_vmlCanvasManager&&(e=G_vmlCanvasManager.initElement(e)),e},Dygraph.isAndroid=function(){return/Android/.test(navigator.userAgent)},Dygraph.repeatAndCleanup=function(e,t,n,r){var i=0,a=(new Date).getTime();return e(i),1==t?(r(),void 0):(function o(){if(!(i>=t)){var s=a+(1+i)*n;setTimeout(function(){i++,e(i),i>=t-1?r():o()},s-(new Date).getTime())}}(),void 0)},Dygraph.isPixelChangingOptionList=function(e,t){var n={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLabelColor:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,digitsAfterDecimal:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawXGrid:!0,drawYGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,isZoomedIgnoreProgrammaticZoom:!0,labelsDiv:!0,labelsDivStyles:!0,labelsDivWidth:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,maxNumberWidth:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotStrokeColor:!0,showLabelsOnHighlight:!0,showRoller:!0,sigFigs:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,xAxisLabelFormatter:!0,xTicker:!0,xValueFormatter:!0,yAxisLabelFormatter:!0,yValueFormatter:!0,zoomCallback:!0},r=!1,i={};if(e)for(var a=1;e.length>a;a++)i[e[a]]=!0;for(var o in t){if(r)break;if(t.hasOwnProperty(o))if(i[o])for(var s in t[o]){if(r)break;t[o].hasOwnProperty(s)&&!n[s]&&(r=!0)}else n[o]||(r=!0)}return r},Dygraph.compareArrays=function(e,t){if(!Dygraph.isArrayLike(e)||!Dygraph.isArrayLike(t))return!1;if(e.length!==t.length)return!1;for(var n=0;e.length>n;n++)if(e[n]!==t[n])return!1;return!0},Dygraph.regularShape_=function(e,t,n,r,i,a,o){a=a?a:0,o=o?o:2*Math.PI/t,e.beginPath();var s=a,l=s,c=function(){var e=r+Math.sin(l)*n,t=i+-Math.cos(l)*n;return[e,t]},u=c(),d=u[0],p=u[1];e.moveTo(d,p);for(var h=0;t>h;h++){l=h==t-1?s:l+o;var m=c();e.lineTo(m[0],m[1])}e.fill(),e.stroke()},Dygraph.shapeFunction_=function(e,t,n){return function(r,i,a,o,s,l,c){a.strokeStyle=l,a.fillStyle="white",Dygraph.regularShape_(a,e,c,o,s,t,n)}},Dygraph.DrawPolygon_=function(e,t,n,r,i,a,o,s){new Dygraph.RegularShape_(e,t,s).draw(n,r,i,o)},Dygraph.Circles={DEFAULT:function(e,t,n,r,i,a,o){n.beginPath(),n.fillStyle=a,n.arc(r,i,o,0,2*Math.PI,!1),n.fill()},TRIANGLE:Dygraph.shapeFunction_(3),SQUARE:Dygraph.shapeFunction_(4,Math.PI/4),DIAMOND:Dygraph.shapeFunction_(4),PENTAGON:Dygraph.shapeFunction_(5),HEXAGON:Dygraph.shapeFunction_(6),CIRCLE:function(e,t,n,r,i,a,o){n.beginPath(),n.strokeStyle=a,n.fillStyle="white",n.arc(r,i,o,0,2*Math.PI,!1),n.fill(),n.stroke()},STAR:Dygraph.shapeFunction_(5,0,4*Math.PI/5),PLUS:function(e,t,n,r,i,a,o){n.strokeStyle=a,n.beginPath(),n.moveTo(r+o,i),n.lineTo(r-o,i),n.closePath(),n.stroke(),n.beginPath(),n.moveTo(r,i+o),n.lineTo(r,i-o),n.closePath(),n.stroke()},EX:function(e,t,n,r,i,a,o){n.strokeStyle=a,n.beginPath(),n.moveTo(r+o,i+o),n.lineTo(r-o,i-o),n.closePath(),n.stroke(),n.beginPath(),n.moveTo(r+o,i-o),n.lineTo(r-o,i+o),n.closePath(),n.stroke()}},Dygraph.GVizChart=function(e){this.container=e},Dygraph.GVizChart.prototype.draw=function(e,t){this.container.innerHTML="",this.date_graph!==void 0&&this.date_graph.destroy(),this.date_graph=new Dygraph(this.container,e,t)},Dygraph.GVizChart.prototype.setSelection=function(e){var t=!1;e.length&&(t=e[0].row),this.date_graph.setSelection(t)},Dygraph.GVizChart.prototype.getSelection=function(){var e=[],t=this.date_graph.getSelection();if(0>t)return e;for(var n=this.date_graph.layout_.datasets,r=0;n.length>r;++r)e.push({row:t,column:r+1});return e},Dygraph.Interaction={},Dygraph.Interaction.startPan=function(e,t,n){var r,i;n.isPanning=!0;var a=t.xAxisRange();if(n.dateRange=a[1]-a[0],n.initialLeftmostDate=a[0],n.xUnitsPerPixel=n.dateRange/(t.plotter_.area.w-1),t.attr_("panEdgeFraction")){var o=t.width_*t.attr_("panEdgeFraction"),s=t.xAxisExtremes(),l=t.toDomXCoord(s[0])-o,c=t.toDomXCoord(s[1])+o,u=t.toDataXCoord(l),d=t.toDataXCoord(c);n.boundedDates=[u,d];var p=[],h=t.height_*t.attr_("panEdgeFraction");for(r=0;t.axes_.length>r;r++){i=t.axes_[r];var m=i.extremeRange,g=t.toDomYCoord(m[0],r)+h,f=t.toDomYCoord(m[1],r)-h,b=t.toDataYCoord(g),v=t.toDataYCoord(f);p[r]=[b,v]}n.boundedValues=p}for(n.is2DPan=!1,n.axes=[],r=0;t.axes_.length>r;r++){i=t.axes_[r];var y={},_=t.yAxisRange(r);i.logscale?(y.initialTopValue=Dygraph.log10(_[1]),y.dragValueRange=Dygraph.log10(_[1])-Dygraph.log10(_[0])):(y.initialTopValue=_[1],y.dragValueRange=_[1]-_[0]),y.unitsPerPixel=y.dragValueRange/(t.plotter_.area.h-1),n.axes.push(y),(i.valueWindow||i.valueRange)&&(n.is2DPan=!0)}},Dygraph.Interaction.movePan=function(e,t,n){n.dragEndX=t.dragGetX_(e,n),n.dragEndY=t.dragGetY_(e,n);var r=n.initialLeftmostDate-(n.dragEndX-n.dragStartX)*n.xUnitsPerPixel;n.boundedDates&&(r=Math.max(r,n.boundedDates[0]));var i=r+n.dateRange;if(n.boundedDates&&i>n.boundedDates[1]&&(r-=i-n.boundedDates[1],i=r+n.dateRange),t.dateWindow_=[r,i],n.is2DPan)for(var a=0;t.axes_.length>a;a++){var o=t.axes_[a],s=n.axes[a],l=n.dragEndY-n.dragStartY,c=l*s.unitsPerPixel,u=n.boundedValues?n.boundedValues[a]:null,d=s.initialTopValue+c;u&&(d=Math.min(d,u[1]));var p=d-s.dragValueRange;u&&u[0]>p&&(d-=p-u[0],p=d-s.dragValueRange),o.valueWindow=o.logscale?[Math.pow(Dygraph.LOG_SCALE,p),Math.pow(Dygraph.LOG_SCALE,d)]:[p,d]}t.drawGraph_(!1)},Dygraph.Interaction.endPan=function(e,t,n){n.dragEndX=t.dragGetX_(e,n),n.dragEndY=t.dragGetY_(e,n);var r=Math.abs(n.dragEndX-n.dragStartX),i=Math.abs(n.dragEndY-n.dragStartY);2>r&&2>i&&void 0!==t.lastx_&&-1!=t.lastx_&&Dygraph.Interaction.treatMouseOpAsClick(t,e,n),n.isPanning=!1,n.is2DPan=!1,n.initialLeftmostDate=null,n.dateRange=null,n.valueRange=null,n.boundedDates=null,n.boundedValues=null,n.axes=null},Dygraph.Interaction.startZoom=function(e,t,n){n.isZooming=!0},Dygraph.Interaction.moveZoom=function(e,t,n){n.dragEndX=t.dragGetX_(e,n),n.dragEndY=t.dragGetY_(e,n);var r=Math.abs(n.dragStartX-n.dragEndX),i=Math.abs(n.dragStartY-n.dragEndY);n.dragDirection=i/2>r?Dygraph.VERTICAL:Dygraph.HORIZONTAL,t.drawZoomRect_(n.dragDirection,n.dragStartX,n.dragEndX,n.dragStartY,n.dragEndY,n.prevDragDirection,n.prevEndX,n.prevEndY),n.prevEndX=n.dragEndX,n.prevEndY=n.dragEndY,n.prevDragDirection=n.dragDirection},Dygraph.Interaction.treatMouseOpAsClick=function(e,t,n){var r=e.attr_("clickCallback"),i=e.attr_("pointClickCallback"),a=null;if(i){for(var o=-1,s=Number.MAX_VALUE,l=0;e.selPoints_.length>l;l++){var c=e.selPoints_[l],u=Math.pow(c.canvasx-n.dragEndX,2)+Math.pow(c.canvasy-n.dragEndY,2);!isNaN(u)&&(-1==o||s>u)&&(s=u,o=l)}var d=e.attr_("highlightCircleSize")+2;d*d>=s&&(a=e.selPoints_[o])}a&&i(t,a),r&&r(t,e.lastx_,e.selPoints_)},Dygraph.Interaction.endZoom=function(e,t,n){n.isZooming=!1,n.dragEndX=t.dragGetX_(e,n),n.dragEndY=t.dragGetY_(e,n);var r=Math.abs(n.dragEndX-n.dragStartX),i=Math.abs(n.dragEndY-n.dragStartY);2>r&&2>i&&void 0!==t.lastx_&&-1!=t.lastx_&&Dygraph.Interaction.treatMouseOpAsClick(t,e,n),r>=10&&n.dragDirection==Dygraph.HORIZONTAL?(t.doZoomX_(Math.min(n.dragStartX,n.dragEndX),Math.max(n.dragStartX,n.dragEndX)),n.cancelNextDblclick=!0):i>=10&&n.dragDirection==Dygraph.VERTICAL?(t.doZoomY_(Math.min(n.dragStartY,n.dragEndY),Math.max(n.dragStartY,n.dragEndY)),n.cancelNextDblclick=!0):t.clearZoomRect_(),n.dragStartX=null,n.dragStartY=null},Dygraph.Interaction.startTouch=function(e,t,n){e.preventDefault();for(var r=[],i=0;e.touches.length>i;i++){var a=e.touches[i];r.push({pageX:a.pageX,pageY:a.pageY,dataX:t.toDataXCoord(a.pageX),dataY:t.toDataYCoord(a.pageY)})}if(n.initialTouches=r,1==r.length)n.initialPinchCenter=r[0],n.touchDirections={x:!0,y:!0};else if(2==r.length){n.initialPinchCenter={pageX:.5*(r[0].pageX+r[1].pageX),pageY:.5*(r[0].pageY+r[1].pageY),dataX:.5*(r[0].dataX+r[1].dataX),dataY:.5*(r[0].dataY+r[1].dataY)};var o=180/Math.PI*Math.atan2(n.initialPinchCenter.pageY-r[0].pageY,r[0].pageX-n.initialPinchCenter.pageX);o=Math.abs(o),o>90&&(o=90-o),n.touchDirections={x:67.5>o,y:o>22.5}}n.initialRange={x:t.xAxisRange(),y:t.yAxisRange()}},Dygraph.Interaction.moveTouch=function(e,t,n){var r,i=[];for(r=0;e.touches.length>r;r++){var a=e.touches[r];i.push({pageX:a.pageX,pageY:a.pageY})}var o,s=n.initialTouches,l=n.initialPinchCenter;o=1==i.length?i[0]:{pageX:.5*(i[0].pageX+i[1].pageX),pageY:.5*(i[0].pageY+i[1].pageY)};var c={pageX:o.pageX-l.pageX,pageY:o.pageY-l.pageY},u=n.initialRange.x[1]-n.initialRange.x[0],d=n.initialRange.y[0]-n.initialRange.y[1];c.dataX=c.pageX/t.plotter_.area.w*u,c.dataY=c.pageY/t.plotter_.area.h*d;var p,h;if(1==i.length)p=1,h=1;else if(2==i.length){var m=s[1].pageX-l.pageX;p=(i[1].pageX-o.pageX)/m;var g=s[1].pageY-l.pageY;h=(i[1].pageY-o.pageY)/g}if(p=Math.min(8,Math.max(.125,p)),h=Math.min(8,Math.max(.125,h)),n.touchDirections.x&&(t.dateWindow_=[l.dataX-c.dataX+(n.initialRange.x[0]-l.dataX)/p,l.dataX-c.dataX+(n.initialRange.x[1]-l.dataX)/p]),n.touchDirections.y)for(r=0;1>r;r++){var f=t.axes_[r];f.logscale||(f.valueWindow=[l.dataY-c.dataY+(n.initialRange.y[0]-l.dataY)/h,l.dataY-c.dataY+(n.initialRange.y[1]-l.dataY)/h])}t.drawGraph_(!1)},Dygraph.Interaction.endTouch=function(e,t,n){0!=e.touches.length&&Dygraph.Interaction.startTouch(e,t,n)},Dygraph.Interaction.defaultModel={mousedown:function(e,t,n){e.button&&2==e.button||(n.initializeMouseDown(e,t,n),e.altKey||e.shiftKey?Dygraph.startPan(e,t,n):Dygraph.startZoom(e,t,n))},mousemove:function(e,t,n){n.isZooming?Dygraph.moveZoom(e,t,n):n.isPanning&&Dygraph.movePan(e,t,n)},mouseup:function(e,t,n){n.isZooming?Dygraph.endZoom(e,t,n):n.isPanning&&Dygraph.endPan(e,t,n)},touchstart:function(e,t,n){Dygraph.Interaction.startTouch(e,t,n)},touchmove:function(e,t,n){Dygraph.Interaction.moveTouch(e,t,n)},touchend:function(e,t,n){Dygraph.Interaction.endTouch(e,t,n)},mouseout:function(e,t,n){n.isZooming&&(n.dragEndX=null,n.dragEndY=null)},dblclick:function(e,t,n){return n.cancelNextDblclick?(n.cancelNextDblclick=!1,void 0):(e.altKey||e.shiftKey||t.doUnzoom_(),void 0)}},Dygraph.DEFAULT_ATTRS.interactionModel=Dygraph.Interaction.defaultModel,Dygraph.defaultInteractionModel=Dygraph.Interaction.defaultModel,Dygraph.endZoom=Dygraph.Interaction.endZoom,Dygraph.moveZoom=Dygraph.Interaction.moveZoom,Dygraph.startZoom=Dygraph.Interaction.startZoom,Dygraph.endPan=Dygraph.Interaction.endPan,Dygraph.movePan=Dygraph.Interaction.movePan,Dygraph.startPan=Dygraph.Interaction.startPan,Dygraph.Interaction.nonInteractiveModel_={mousedown:function(e,t,n){n.initializeMouseDown(e,t,n)},mouseup:function(e,t,n){n.dragEndX=t.dragGetX_(e,n),n.dragEndY=t.dragGetY_(e,n);var r=Math.abs(n.dragEndX-n.dragStartX),i=Math.abs(n.dragEndY-n.dragStartY);2>r&&2>i&&void 0!==t.lastx_&&-1!=t.lastx_&&Dygraph.Interaction.treatMouseOpAsClick(t,e,n)}},Dygraph.Interaction.dragIsPanInteractionModel={mousedown:function(e,t,n){n.initializeMouseDown(e,t,n),Dygraph.startPan(e,t,n)},mousemove:function(e,t,n){n.isPanning&&Dygraph.movePan(e,t,n)},mouseup:function(e,t,n){n.isPanning&&Dygraph.endPan(e,t,n)}};var DygraphRangeSelector=function(e){this.isIE_=/MSIE/.test(navigator.userAgent)&&!window.opera,this.isUsingExcanvas_=e.isUsingExcanvas_,this.dygraph_=e,this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=480>Math.min(screen.width,screen.height),this.createCanvases_(),this.isUsingExcanvas_&&this.createIEPanOverlay_(),this.createZoomHandles_(),this.initInteraction_()};DygraphRangeSelector.prototype.addToGraph=function(e,t){this.layout_=t,this.resize_(),e.appendChild(this.bgcanvas_),e.appendChild(this.fgcanvas_),e.appendChild(this.leftZoomHandle_),e.appendChild(this.rightZoomHandle_)},DygraphRangeSelector.prototype.renderStaticLayer=function(){this.resize_(),this.drawStaticLayer_()},DygraphRangeSelector.prototype.renderInteractiveLayer=function(){this.isChangingRange_||(this.placeZoomHandles_(),this.drawInteractiveLayer_())},DygraphRangeSelector.prototype.resize_=function(){function e(e,t){e.style.top=t.y+"px",e.style.left=t.x+"px",e.width=t.w,e.height=t.h,e.style.width=e.width+"px",e.style.height=e.height+"px"}var t=this.layout_.getPlotArea(),n=this.attr_("axisLabelFontSize")+2*this.attr_("axisTickSize");this.canvasRect_={x:t.x,y:t.y+t.h+n+4,w:t.w,h:this.attr_("rangeSelectorHeight")},e(this.bgcanvas_,this.canvasRect_),e(this.fgcanvas_,this.canvasRect_)},DygraphRangeSelector.prototype.attr_=function(e){return this.dygraph_.attr_(e)},DygraphRangeSelector.prototype.createCanvases_=function(){this.bgcanvas_=Dygraph.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=Dygraph.getContext(this.bgcanvas_),this.fgcanvas_=Dygraph.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=Dygraph.getContext(this.fgcanvas_)},DygraphRangeSelector.prototype.createIEPanOverlay_=function(){this.iePanOverlay_=document.createElement("div"),this.iePanOverlay_.style.position="absolute",this.iePanOverlay_.style.backgroundColor="white",this.iePanOverlay_.style.filter="alpha(opacity=0)",this.iePanOverlay_.style.display="none",this.iePanOverlay_.style.cursor="move",this.fgcanvas_.appendChild(this.iePanOverlay_)},DygraphRangeSelector.prototype.createZoomHandles_=function(){var e=new Image;e.className="dygraph-rangesel-zoomhandle",e.style.position="absolute",e.style.zIndex=10,e.style.visibility="hidden",e.style.cursor="col-resize",/MSIE 7/.test(navigator.userAgent)?(e.width=7,e.height=14,e.style.backgroundColor="white",e.style.border="1px solid #333333"):(e.width=9,e.height=16,e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=");var t=Math.min(screen.width,screen.height);480>t?(e.width*=3,e.height*=3):768>t&&(e.width*=2,e.height*=2),this.leftZoomHandle_=e,this.rightZoomHandle_=e.cloneNode(!1)},DygraphRangeSelector.prototype.initInteraction_=function(){var e,t,n,r,i,a,o,s,l,c,u,d,p,h,m=this,g=this.isIE_?document:window,f=0,b=null,v=!1,y=!1,_=!this.isMobileDevice_&&!this.isUsingExcanvas_;e=function(e){var t=m.dygraph_.xAxisExtremes(),n=(t[1]-t[0])/m.canvasRect_.w,r=t[0]+(e.leftHandlePos-m.canvasRect_.x)*n,i=t[0]+(e.rightHandlePos-m.canvasRect_.x)*n;return[r,i]},t=function(e){Dygraph.cancelEvent(e),v=!0,f=e.screenX,b=e.target?e.target:e.srcElement,Dygraph.addEvent(g,"mousemove",n),Dygraph.addEvent(g,"mouseup",r),m.fgcanvas_.style.cursor="col-resize"},n=function(e){if(v){var t=e.screenX-f;if(!(4>Math.abs(t))){f=e.screenX;var n,r=m.getZoomHandleStatus_();b==m.leftZoomHandle_?(n=r.leftHandlePos+t,n=Math.min(n,r.rightHandlePos-b.width-3),n=Math.max(n,m.canvasRect_.x)):(n=r.rightHandlePos+t,n=Math.min(n,m.canvasRect_.x+m.canvasRect_.w),n=Math.max(n,r.leftHandlePos+b.width+3));var a=b.width/2;b.style.left=n-a+"px",m.drawInteractiveLayer_(),_&&i()}}},r=function(){v&&(v=!1,Dygraph.removeEvent(g,"mousemove",n),Dygraph.removeEvent(g,"mouseup",r),m.fgcanvas_.style.cursor="default",_||i())},i=function(){try{var t=m.getZoomHandleStatus_();if(m.isChangingRange_=!0,t.isZoomed){var n=e(t);m.dygraph_.doZoomXDates_(n[0],n[1])}else m.dygraph_.doUnzoom_()}finally{m.isChangingRange_=!1}},a=function(e){if(m.isUsingExcanvas_)return e.srcElement==m.iePanOverlay_;var t=m.leftZoomHandle_.getBoundingClientRect(),n=t.left+t.width/2;t=m.rightZoomHandle_.getBoundingClientRect();var r=t.left+t.width/2;return e.clientX>n&&r>e.clientX},o=function(e){!y&&a(e)&&m.getZoomHandleStatus_().isZoomed&&(Dygraph.cancelEvent(e),y=!0,f=e.screenX,Dygraph.addEvent(g,"mousemove",s),Dygraph.addEvent(g,"mouseup",l))},s=function(e){if(y){Dygraph.cancelEvent(e);var t=e.screenX-f;if(!(4>Math.abs(t))){f=e.screenX;var n=m.getZoomHandleStatus_(),r=n.leftHandlePos,i=n.rightHandlePos,a=i-r;m.canvasRect_.x>=r+t?(r=m.canvasRect_.x,i=r+a):i+t>=m.canvasRect_.x+m.canvasRect_.w?(i=m.canvasRect_.x+m.canvasRect_.w,r=i-a):(r+=t,i+=t);var o=m.leftZoomHandle_.width/2;m.leftZoomHandle_.style.left=r-o+"px",m.rightZoomHandle_.style.left=i-o+"px",m.drawInteractiveLayer_(),_&&c()}}},l=function(){y&&(y=!1,Dygraph.removeEvent(g,"mousemove",s),Dygraph.removeEvent(g,"mouseup",l),_||c())},c=function(){try{m.isChangingRange_=!0,m.dygraph_.dateWindow_=e(m.getZoomHandleStatus_()),m.dygraph_.drawGraph_(!1)}finally{m.isChangingRange_=!1}},u=function(e){if(!v&&!y){var t=a(e)?"move":"default";t!=m.fgcanvas_.style.cursor&&(m.fgcanvas_.style.cursor=t)}},d=function(e){e.preventDefault(),"touchstart"==e.type?t(e.targetTouches[0]):"touchmove"==e.type?n(e.targetTouches[0]):r(e)},p=function(e){e.preventDefault(),"touchstart"==e.type?o(e.targetTouches[0]):"touchmove"==e.type?s(e.targetTouches[0]):l(e)},h=function(e,t){for(var n=["touchstart","touchend","touchmove","touchcancel"],r=0;n.length>r;r++)Dygraph.addEvent(e,n[r],t)},this.dygraph_.attrs_.interactionModel=Dygraph.Interaction.dragIsPanInteractionModel,this.dygraph_.attrs_.panEdgeFraction=1e-4;var k=window.opera?"mousedown":"dragstart";Dygraph.addEvent(this.leftZoomHandle_,k,t),Dygraph.addEvent(this.rightZoomHandle_,k,t),this.isUsingExcanvas_?Dygraph.addEvent(this.iePanOverlay_,"mousedown",o):(Dygraph.addEvent(this.fgcanvas_,"mousedown",o),Dygraph.addEvent(this.fgcanvas_,"mousemove",u)),this.hasTouchInterface_&&(h(this.leftZoomHandle_,d),h(this.rightZoomHandle_,d),h(this.fgcanvas_,p))},DygraphRangeSelector.prototype.drawStaticLayer_=function(){var e=this.bgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(t){Dygraph.warn(t)}var n=.5;this.bgcanvas_ctx_.lineWidth=1,e.strokeStyle="gray",e.beginPath(),e.moveTo(n,n),e.lineTo(n,this.canvasRect_.h-n),e.lineTo(this.canvasRect_.w-n,this.canvasRect_.h-n),e.lineTo(this.canvasRect_.w-n,n),e.stroke()},DygraphRangeSelector.prototype.drawMiniPlot_=function(){var e=this.attr_("rangeSelectorPlotFillColor"),t=this.attr_("rangeSelectorPlotStrokeColor");if(e||t){var n=this.computeCombinedSeriesAndLimits_(),r=n.yMax-n.yMin,i=this.bgcanvas_ctx_,a=.5,o=this.dygraph_.xAxisExtremes(),s=Math.max(o[1]-o[0],1e-30),l=(this.canvasRect_.w-a)/s,c=(this.canvasRect_.h-a)/r,u=this.canvasRect_.w-a,d=this.canvasRect_.h-a;i.beginPath(),i.moveTo(a,d);for(var p=0;n.data.length>p;p++){var h=n.data[p],m=(h[0]-o[0])*l,g=d-(h[1]-n.yMin)*c;isFinite(m)&&isFinite(g)&&i.lineTo(m,g)}if(i.lineTo(u,d),i.closePath(),e){var f=this.bgcanvas_ctx_.createLinearGradient(0,0,0,d);f.addColorStop(0,"white"),f.addColorStop(1,e),this.bgcanvas_ctx_.fillStyle=f,i.fill()}t&&(this.bgcanvas_ctx_.strokeStyle=t,this.bgcanvas_ctx_.lineWidth=1.5,i.stroke())}},DygraphRangeSelector.prototype.computeCombinedSeriesAndLimits_=function(){var e,t,n,r,i,a,o,s,l=this.dygraph_.rawData_,c=this.attr_("logscale"),u=[];for(r=0;l.length>r;r++)if(l[r].length>1&&null!==l[r][1]){if(n="number"!=typeof l[r][1])for(e=[],t=[],a=0;l[r][1].length>a;a++)e.push(0),t.push(0);break}for(r=0;l.length>r;r++){var d=l[r];if(o=d[0],n)for(a=0;e.length>a;a++)e[a]=t[a]=0;else e=t=0;for(i=1;d.length>i;i++)if(this.dygraph_.visibility()[i-1]){var p;if(n)for(a=0;e.length>a;a++)p=d[i][a],null===p||isNaN(p)||(e[a]+=p,t[a]++);else{if(p=d[i],null===p||isNaN(p))continue;e+=p,t++}}if(n){for(a=0;e.length>a;a++)e[a]/=t[a];s=e.slice(0)}else s=e/t;u.push([o,s])}if(u=this.dygraph_.rollingAverage(u,this.dygraph_.rollPeriod_),"number"!=typeof u[0][1])for(r=0;u.length>r;r++)s=u[r][1],u[r][1]=s[0];var h=Number.MAX_VALUE,m=-Number.MAX_VALUE;for(r=0;u.length>r;r++)s=u[r][1],null!==s&&isFinite(s)&&(!c||s>0)&&(h=Math.min(h,s),m=Math.max(m,s));var g=.25;if(c)for(m=Dygraph.log10(m),m+=m*g,h=Dygraph.log10(h),r=0;u.length>r;r++)u[r][1]=Dygraph.log10(u[r][1]);else{var f,b=m-h;f=Number.MIN_VALUE>=b?m*g:b*g,m+=f,h-=f}return{data:u,yMin:h,yMax:m}},DygraphRangeSelector.prototype.placeZoomHandles_=function(){var e=this.dygraph_.xAxisExtremes(),t=this.dygraph_.xAxisRange(),n=e[1]-e[0],r=Math.max(0,(t[0]-e[0])/n),i=Math.max(0,(e[1]-t[1])/n),a=this.canvasRect_.x+this.canvasRect_.w*r,o=this.canvasRect_.x+this.canvasRect_.w*(1-i),s=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),l=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=a-l+"px",this.leftZoomHandle_.style.top=s+"px",this.rightZoomHandle_.style.left=o-l+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},DygraphRangeSelector.prototype.drawInteractiveLayer_=function(){var e=this.fgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var t=1,n=this.canvasRect_.w-t,r=this.canvasRect_.h-t,i=this.getZoomHandleStatus_();if(e.strokeStyle="black",i.isZoomed){var a=Math.max(t,i.leftHandlePos-this.canvasRect_.x),o=Math.min(n,i.rightHandlePos-this.canvasRect_.x);e.fillStyle="rgba(240, 240, 240, 0.6)",e.fillRect(0,0,a,this.canvasRect_.h),e.fillRect(o,0,this.canvasRect_.w-o,this.canvasRect_.h),e.beginPath(),e.moveTo(t,t),e.lineTo(a,t),e.lineTo(a,r),e.lineTo(o,r),e.lineTo(o,t),e.lineTo(n,t),e.stroke(),this.isUsingExcanvas_&&(this.iePanOverlay_.style.width=o-a+"px",this.iePanOverlay_.style.left=a+"px",this.iePanOverlay_.style.height=r+"px",this.iePanOverlay_.style.display="inline")}else e.beginPath(),e.moveTo(t,t),e.lineTo(t,r),e.lineTo(n,r),e.lineTo(n,t),e.stroke(),this.iePanOverlay_&&(this.iePanOverlay_.style.display="none")},DygraphRangeSelector.prototype.getZoomHandleStatus_=function(){var e=this.leftZoomHandle_.width/2,t=parseInt(this.leftZoomHandle_.style.left,10)+e,n=parseInt(this.rightZoomHandle_.style.left,10)+e;return{leftHandlePos:t,rightHandlePos:n,isZoomed:t-1>this.canvasRect_.x||this.canvasRect_.x+this.canvasRect_.w>n+1}},Dygraph.numericLinearTicks=function(e,t,n,r,i,a){var o=function(e){return"logscale"===e?!1:r(e)};return Dygraph.numericTicks(e,t,n,o,i,a)},Dygraph.numericTicks=function(e,t,n,r,i,a){var o,s,l,c,u=r("pixelsPerLabel"),d=[];if(a)for(o=0;a.length>o;o++)d.push({v:a[o]});else{if(r("logscale")){c=Math.floor(n/u);var p=Dygraph.binarySearch(e,Dygraph.PREFERRED_LOG_TICK_VALUES,1),h=Dygraph.binarySearch(t,Dygraph.PREFERRED_LOG_TICK_VALUES,-1);-1==p&&(p=0),-1==h&&(h=Dygraph.PREFERRED_LOG_TICK_VALUES.length-1);var m=null;if(h-p>=c/4){for(var g=h;g>=p;g--){var f=Dygraph.PREFERRED_LOG_TICK_VALUES[g],b=Math.log(f/e)/Math.log(t/e)*n,v={v:f};null===m?m={tickValue:f,pixel_coord:b}:Math.abs(b-m.pixel_coord)>=u?m={tickValue:f,pixel_coord:b}:v.label="",d.push(v)}d.reverse()}}if(0===d.length){var y,_=r("labelsKMG2");y=_?[1,2,4,8]:[1,2,5];var k,w,E;for(o=-10;50>o;o++){var C;C=_?Math.pow(16,o):Math.pow(10,o);var T=0;for(s=0;y.length>s&&(k=C*y[s],w=Math.floor(e/k)*k,E=Math.ceil(t/k)*k,c=Math.abs(E-w)/k,T=n/c,!(T>u));s++);if(T>u)break}for(w>E&&(k*=-1),o=0;c>o;o++)l=w+o*k,d.push({v:l})}}var x,S=[];r("labelsKMB")&&(x=1e3,S=["K","M","B","T","Q"]),r("labelsKMG2")&&(x&&Dygraph.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),x=1024,S=["k","M","G","T","P","E"]);var A=r("axisLabelFormatter");for(o=0;d.length>o;o++)if(void 0===d[o].label){l=d[o].v;
var R=Math.abs(l),I=A(l,0,r,i);if(S.length>0){var D=Math.pow(x,S.length);for(s=S.length-1;s>=0;s--,D/=x)if(R>=D){I=Dygraph.round_(l/D,r("digitsAfterDecimal"))+S[s];break}}d[o].label=I}return d},Dygraph.dateTicker=function(e,t,n,r,i){var a=Dygraph.pickDateTickGranularity(e,t,n,r);return a>=0?Dygraph.getDateAxis(e,t,a,r,i):[]},Dygraph.SECONDLY=0,Dygraph.TWO_SECONDLY=1,Dygraph.FIVE_SECONDLY=2,Dygraph.TEN_SECONDLY=3,Dygraph.THIRTY_SECONDLY=4,Dygraph.MINUTELY=5,Dygraph.TWO_MINUTELY=6,Dygraph.FIVE_MINUTELY=7,Dygraph.TEN_MINUTELY=8,Dygraph.THIRTY_MINUTELY=9,Dygraph.HOURLY=10,Dygraph.TWO_HOURLY=11,Dygraph.SIX_HOURLY=12,Dygraph.DAILY=13,Dygraph.WEEKLY=14,Dygraph.MONTHLY=15,Dygraph.QUARTERLY=16,Dygraph.BIANNUAL=17,Dygraph.ANNUAL=18,Dygraph.DECADAL=19,Dygraph.CENTENNIAL=20,Dygraph.NUM_GRANULARITIES=21,Dygraph.SHORT_SPACINGS=[],Dygraph.SHORT_SPACINGS[Dygraph.SECONDLY]=1e3,Dygraph.SHORT_SPACINGS[Dygraph.TWO_SECONDLY]=2e3,Dygraph.SHORT_SPACINGS[Dygraph.FIVE_SECONDLY]=5e3,Dygraph.SHORT_SPACINGS[Dygraph.TEN_SECONDLY]=1e4,Dygraph.SHORT_SPACINGS[Dygraph.THIRTY_SECONDLY]=3e4,Dygraph.SHORT_SPACINGS[Dygraph.MINUTELY]=6e4,Dygraph.SHORT_SPACINGS[Dygraph.TWO_MINUTELY]=12e4,Dygraph.SHORT_SPACINGS[Dygraph.FIVE_MINUTELY]=3e5,Dygraph.SHORT_SPACINGS[Dygraph.TEN_MINUTELY]=6e5,Dygraph.SHORT_SPACINGS[Dygraph.THIRTY_MINUTELY]=18e5,Dygraph.SHORT_SPACINGS[Dygraph.HOURLY]=36e5,Dygraph.SHORT_SPACINGS[Dygraph.TWO_HOURLY]=72e5,Dygraph.SHORT_SPACINGS[Dygraph.SIX_HOURLY]=216e5,Dygraph.SHORT_SPACINGS[Dygraph.DAILY]=864e5,Dygraph.SHORT_SPACINGS[Dygraph.WEEKLY]=6048e5,Dygraph.PREFERRED_LOG_TICK_VALUES=function(){for(var e=[],t=-39;39>=t;t++)for(var n=Math.pow(10,t),r=1;9>=r;r++){var i=n*r;e.push(i)}return e}(),Dygraph.pickDateTickGranularity=function(e,t,n,r){for(var i=r("pixelsPerLabel"),a=0;Dygraph.NUM_GRANULARITIES>a;a++){var o=Dygraph.numDateTicks(e,t,a);if(n/o>=i)return a}return-1},Dygraph.numDateTicks=function(e,t,n){if(Dygraph.MONTHLY>n){var r=Dygraph.SHORT_SPACINGS[n];return Math.floor(.5+1*(t-e)/r)}var i=1,a=12;n==Dygraph.QUARTERLY&&(a=3),n==Dygraph.BIANNUAL&&(a=2),n==Dygraph.ANNUAL&&(a=1),n==Dygraph.DECADAL&&(a=1,i=10),n==Dygraph.CENTENNIAL&&(a=1,i=100);var o=31557807360,s=1*(t-e)/o;return Math.floor(.5+1*s*a/i)},Dygraph.getDateAxis=function(e,t,n,r,i){var a,o=r("axisLabelFormatter"),s=[];if(Dygraph.MONTHLY>n){var l,c=Dygraph.SHORT_SPACINGS[n],u=c/1e3,d=new Date(e);for(60>=u?(l=d.getSeconds(),d.setSeconds(l-l%u)):(d.setSeconds(0),u/=60,60>=u?(l=d.getMinutes(),d.setMinutes(l-l%u)):(d.setMinutes(0),u/=60,24>=u?(l=d.getHours(),d.setHours(l-l%u)):(d.setHours(0),u/=24,7==u&&d.setDate(d.getDate()-d.getDay())))),e=d.getTime(),a=e;t>=a;a+=c)s.push({v:a,label:o(new Date(a),n,r,i)})}else{var p,h=1;n==Dygraph.MONTHLY?p=[0,1,2,3,4,5,6,7,8,9,10,11]:n==Dygraph.QUARTERLY?p=[0,3,6,9]:n==Dygraph.BIANNUAL?p=[0,6]:n==Dygraph.ANNUAL?p=[0]:n==Dygraph.DECADAL?(p=[0],h=10):n==Dygraph.CENTENNIAL?(p=[0],h=100):Dygraph.warn("Span of dates is too long");for(var m=new Date(e).getFullYear(),g=new Date(t).getFullYear(),f=Dygraph.zeropad,b=m;g>=b;b++)if(0===b%h)for(var v=0;p.length>v;v++){var y=b+"/"+f(1+p[v])+"/01";a=Dygraph.dateStrToMillis(y),e>a||a>t||s.push({v:a,label:o(new Date(a),n,r,i)})}}return s},Dygraph.DEFAULT_ATTRS.axes.x.ticker=Dygraph.dateTicker,Dygraph.DEFAULT_ATTRS.axes.y.ticker=Dygraph.numericTicks,Dygraph.DEFAULT_ATTRS.axes.y2.ticker=Dygraph.numericTicks,Date.ext={},Date.ext.util={},Date.ext.util.xPad=function(e,t,n){for(n===void 0&&(n=10);n>parseInt(e,10)&&n>1;n/=10)e=""+t+e;return""+e},Date.prototype.locale="en-GB",document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(Date.prototype.locale=document.getElementsByTagName("html")[0].lang),Date.ext.locales={},Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"},Date.ext.locales["en-US"]=Date.ext.locales.en,Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z",Date.ext.locales["en-US"].x="%D",Date.ext.locales["en-US"].X="%r",Date.ext.locales["en-GB"]=Date.ext.locales.en,Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"],Date.ext.formats={a:function(e){return Date.ext.locales[e.locale].a[e.getDay()]},A:function(e){return Date.ext.locales[e.locale].A[e.getDay()]},b:function(e){return Date.ext.locales[e.locale].b[e.getMonth()]},B:function(e){return Date.ext.locales[e.locale].B[e.getMonth()]},c:"toLocaleString",C:function(e){return Date.ext.util.xPad(parseInt(e.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(e){return Date.ext.util.xPad(parseInt(Date.ext.util.G(e)/100,10),0)},G:function(e){var t=e.getFullYear(),n=parseInt(Date.ext.formats.V(e),10),r=parseInt(Date.ext.formats.W(e),10);return r>n?t++:0===r&&n>=52&&t--,t},H:["getHours","0"],I:function(e){var t=e.getHours()%12;return Date.ext.util.xPad(0===t?12:t,0)},j:function(e){var t=e-new Date(""+e.getFullYear()+"/1/1 GMT");t+=6e4*e.getTimezoneOffset();var n=parseInt(t/6e4/60/24,10)+1;return Date.ext.util.xPad(n,0,100)},m:function(e){return Date.ext.util.xPad(e.getMonth()+1,0)},M:["getMinutes","0"],p:function(e){return Date.ext.locales[e.locale].p[e.getHours()>=12?1:0]},P:function(e){return Date.ext.locales[e.locale].P[e.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=6-e.getDay(),r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0)},V:function(e){var t=parseInt(Date.ext.formats.W(e),10),n=new Date(""+e.getFullYear()+"/1/1").getDay(),r=t+(n>4||1>=n?0:1);return 53==r&&4>new Date(""+e.getFullYear()+"/12/31").getDay()?r=1:0===r&&(r=Date.ext.formats.V(new Date(""+(e.getFullYear()-1)+"/12/31"))),Date.ext.util.xPad(r,0)},w:"getDay",W:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=7-Date.ext.formats.u(e),r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0,10)},y:function(e){return Date.ext.util.xPad(e.getFullYear()%100,0)},Y:"getFullYear",z:function(e){var t=e.getTimezoneOffset(),n=Date.ext.util.xPad(parseInt(Math.abs(t/60),10),0),r=Date.ext.util.xPad(t%60,0);return(t>0?"-":"+")+n+r},Z:function(e){return(""+e).replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(){return"%"}},Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"	",T:"%H:%M:%S",x:"locale",X:"locale"},Date.ext.aggregates.z=Date.ext.formats.z(new Date),Date.ext.aggregates.Z=Date.ext.formats.Z(new Date),Date.ext.unsupported={},Date.prototype.strftime=function(e){this.locale in Date.ext.locales||(this.locale=this.locale.replace(/-[a-zA-Z]+$/,"")in Date.ext.locales?this.locale.replace(/-[a-zA-Z]+$/,""):"en-GB");for(var t=this;e.match(/%[cDhnrRtTxXzZ]/);)e=e.replace(/%([cDhnrRtTxXzZ])/g,function(e,n){var r=Date.ext.aggregates[n];return"locale"==r?Date.ext.locales[t.locale][n]:r});var n=e.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(e,n){var r=Date.ext.formats[n];return"string"==typeof r?t[r]():"function"==typeof r?r.call(t,t):"object"==typeof r&&"string"==typeof r[0]?Date.ext.util.xPad(t[r[0]](),r[1]):n});return t=null,n},Dygraph.Plugins={},Dygraph.Plugins.Legend=function(){var e=function(){this.legend_div_=null,this.is_generated_div_=!1};e.prototype.toString=function(){return"Legend Plugin"},e.prototype.activate=function(t,n){var r,i=t.getOption("labelsDivWidth"),a=t.getOption("labelsDiv");if(a&&null!==a)r="string"==typeof a||a instanceof String?document.getElementById(a):a;else{var o={position:"absolute",fontSize:"14px",zIndex:10,width:i+"px",top:"0px",right:"2px",background:"white",textAlign:"left",overflow:"hidden"};Dygraph.update(o,t.getOption("labelsDivStyles")),r=document.createElement("div"),r.className="dygraph-legend";for(var s in o)if(o.hasOwnProperty(s))try{r.style[s]=o[s]}catch(l){this.warn("You are using unsupported css properties for your browser in labelsDivStyles")}t.graphDiv.appendChild(r),this.is_generated_div_=!0}this.legend_div_=r,n.addEventListener("select",e.select),n.addEventListener("deselect",e.deselect),n.addEventListener("predraw",e.predraw),n.addEventListener("drawChart",e.drawChart)};var t=function(e){var t=document.createElement("span");t.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),e.appendChild(t);var n=t.offsetWidth;return e.removeChild(t),n};e.select=function(e){var r=e.selectedX,i=e.selectedPoints,a=t(this.legend_div_),o=n(e.dygraph,r,i,a);this.legend_div_.innerHTML=o},e.deselect=function(e){var r=t(this.legend_div_),i=n(e.dygraph,void 0,void 0,r);this.legend_div_.innerHTML=i},e.drawChart=function(t){e.deselect.call(this,t)},e.predraw=function(e){if(this.is_generated_div_){var t=e.dygraph.plotter_.area;this.legend_div_.style.left=t.x+t.w-e.dygraph.getOption("labelsDivWidth")-1+"px",this.legend_div_.style.top=t.y+"px"}},e.prototype.destroy=function(){this.legend_div_=null};var n=function(e,t,n,i){if(e.getOption("showLabelsOnHighlight")!==!0)return"";var a,o,s,l,c,u=e.getLabels();if(t===void 0){if("always"!=e.getOption("legend"))return"";for(o=e.getOption("labelsSeparateLines"),a="",s=1;u.length>s;s++){var d=e.getPropertiesForSeries(u[s]);d.visible&&(""!==a&&(a+=o?"<br/>":" "),c=e.getOption("strokePattern",u[s]),l=r(c,d.color,i),a+="<span style='font-weight: bold; color: "+d.color+";'>"+l+" "+u[s]+"</span>")}return a}var p=e.optionsViewForAxis_("x"),h=p("valueFormatter");a=h(t,p,u[0],e)+":";var m=[],g=e.numAxes();for(s=0;g>s;s++)m[s]=e.optionsViewForAxis_("y"+(s?1+s:""));var f=e.getOption("labelsShowZeroValues");o=e.getOption("labelsSeparateLines");var b=e.getHighlightSeries();for(s=0;n.length>s;s++){var v=n[s];if((0!==v.yval||f)&&Dygraph.isOK(v.canvasy)){o&&(a+="<br/>");var d=e.getPropertiesForSeries(v.name),y=m[d.axis-1],_=y("valueFormatter"),k=_(v.yval,y,v.name,e),w=v.name==b?" class='highlight'":"";a+="<span"+w+"> <b><span style='color: "+d.color+";'>"+v.name+"</span></b>:"+k+"</span>"}}return a},r=function(e,t,n){var r=/MSIE/.test(navigator.userAgent)&&!window.opera;if(r)return"&mdash;";if(!e||1>=e.length)return'<div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid '+t+';"></div>';var i,a,o,s,l,c=0,u=0,d=[];for(i=0;e.length>=i;i++)c+=e[i%e.length];if(l=Math.floor(n/(c-e[0])),l>1){for(i=0;e.length>i;i++)d[i]=e[i]/n;u=d.length}else{for(l=1,i=0;e.length>i;i++)d[i]=e[i]/c;u=d.length+1}var p="";for(a=0;l>a;a++)for(i=0;u>i;i+=2)o=d[i%d.length],s=e.length>i?d[(i+1)%d.length]:0,p+='<div style="display: inline-block; position: relative; bottom: .5ex; margin-right: '+s+"em; padding-left: "+o+"em; height: 1px; border-bottom: 2px solid "+t+';"></div>';return p};return e}(),Dygraph.PLUGINS.push(Dygraph.Plugins.Legend);